import{j as e}from"../assets/jsx-runtime-D5KAtRYC.js";import{r as d}from"../assets/index-CVf8TyFT.js";import{r as de}from"../assets/index-C7u3gpnj.js";class ce{constructor(){this.isEnabled=typeof window<"u"&&window.umami,this.sessionId=this.generateSessionId(),this.sessionStartTime=Date.now(),this.sessionActions=[],this.contentScores=new Map,this.userStages=new Map}generateSessionId(){return Date.now().toString(36)+Math.random().toString(36).substr(2,5)}track(s,t={}){if(!this.isEnabled){console.log("📊 Analytics (dev):",s,t);return}this.sessionActions.push(s);try{window.umami.track(s,{...t,session_id:this.sessionId})}catch(r){console.error("Analytics error:",r)}}getScoreTier(s){return s>=80?"excellent":s>=70?"good":s>=50?"medium":s>=30?"low":"very_low"}calculateEngagementScore(){const s=this.sessionActions||[],t=Date.now()-this.sessionStartTime;let r=0;s.includes("quiz_completed")&&(r+=50);const l=Math.min(t/3e4,20);r+=l;const c=s.filter(y=>y.includes("_viewed")).length;r+=c*5;const n=s.filter(y=>y==="cta_clicked").length;r+=n*10;const x=s.filter(y=>y==="faq_expanded").length;return r+=x*3,Math.min(r,100)}trackAttribution(s,t,r){this.track("attribution_detected",{source:s,medium:t,campaign:r,landing_page:window.location.pathname,referrer:document.referrer||"direct"})}trackConversionVelocity(s,t){const r=Date.now(),l=this.userStages.get(s);let c=0;if(l){const n=r-l.timestamp;c=Math.max(0,1-n/3e5)}this.userStages.set(s,{stage:t,timestamp:r}),this.track("conversion_velocity",{user_id:s,stage:t,velocity_score:Math.round(c*100)/100,time_since_previous:l?r-l.timestamp:0,conversion_likely:c>.7})}quizStarted(s){this.track("quiz_started",{user_type:s})}quizStepCompleted(s,t,r,l,c){this.track("quiz_step_completed",{step:s,user_type:t,path:`${t}_path`,question_id:l,question_text:c?c.substring(0,100):"",answer:typeof r=="string"?r.substring(0,50):r,step_identifier:`${t}_step_${s}`})}quizAbandoned(s,t,r){this.track("quiz_abandoned",{step:s,user_type:t,path:`${t}_path`,question_id:r,step_identifier:`${t}_step_${s}`,completion_rate:Math.round(s/8*100),abandon_point:`${t}_step_${s}`})}quizCompleted(s,t,r){this.track("quiz_completed",{user_type:s,score:t,roi_estimate:r,lead_quality:t>70?"hot":t>40?"warm":"cold"})}quizModalOpened(s,t,r){this.track("quiz_modal_opened",{modal_type:s,user_type:t,score:r,score_tier:this.getScoreTier(r)})}quizModalClosed(s,t,r,l){this.track("quiz_modal_closed",{modal_type:s,user_type:t,time_spent_ms:r,close_action:l,engagement:r>3e4?"high":r>1e4?"medium":"low"})}reportDetailsViewed(s,t,r){this.track("report_details_viewed",{user_type:s,score:t,section:r,score_tier:this.getScoreTier(t)})}shareModalOpened(s,t,r){this.track("share_modal_opened",{user_type:s,score:t,share_type:r,score_tier:this.getScoreTier(t)})}teamShareStarted(s,t,r){this.track("team_share_started",{user_type:s,score:t,email_count:r,viral_potential:r>3?"high":"medium"})}teamShareCompleted(s,t,r,l){this.track("team_share_completed",{user_type:s,score:t,email_count:r,share_successful:l,viral_impact:l?"positive":"failed"})}leadModalOpened(s,t,r){this.track("lead_modal_opened",{trigger:s,user_type:t,score:r})}leadCaptured(s,t,r,l){this.track("lead_captured",{user_type:s,score:t,has_company:r,has_phone:l,lead_quality:t>70?"hot":t>40?"warm":"cold"})}leadCaptureFailed(s,t){this.track("lead_capture_failed",{error_type:s,user_type:t})}pdfDownloadEligible(s,t,r){this.track("pdf_download_eligible",{user_type:s,score:t,eligible:r,score_tier:this.getScoreTier(t),eligibility_reason:r?"score_sufficient":"score_too_low"})}pdfDownloadStarted(s,t,r){this.track("pdf_download_started",{user_type:s,score:t,download_type:r,score_tier:this.getScoreTier(t)})}pdfDownloadCompleted(s,t,r){this.track("pdf_download_completed",{user_type:s,score:t,download_time_ms:r,download_successful:!0,conversion_quality:"high"})}pdfDownloadFailed(s,t,r,l){this.track("pdf_download_failed",{user_type:s,score:t,error_type:r,error_message:l.substring(0,100),download_successful:!1})}reportButtonClicked(s,t,r){this.track("report_button_clicked",{user_type:s,score:t,location:r})}shareButtonClicked(s,t,r){this.track("share_button_clicked",{user_type:s,score:t,method:r})}headerNavClicked(s,t,r){this.track("header_nav_clicked",{link_text:s.substring(0,30),destination:t,section:r})}ctaClicked(s,t,r,l){this.track("cta_clicked",{location:s,text:t.substring(0,30),type:r,cta_id:l||"unknown",scroll_position:Math.round(window.scrollY/100)*100})}carouselInteraction(s,t,r,l){this.track("carousel_interaction",{carousel_type:s,method:t,slide_index:r,item_id:l,device:window.innerWidth<768?"mobile":"desktop"})}caseStudyViewed(s,t,r){this.track("case_study_viewed",{case_id:s,title:t.substring(0,50),view_time_ms:r,engagement:r>1e4?"high":r>5e3?"medium":"low"})}caseStudyInteraction(s,t,r){this.track("case_study_interaction",{case_id:s,interaction_type:t,element:r})}testimonialViewed(s,t,r){this.track("testimonial_viewed",{testimonial_id:s,name:t,view_time_ms:r,engagement:r>8e3?"high":r>3e3?"medium":"low"})}faqExpanded(s,t,r){this.track("faq_expanded",{question_id:s,question_text:t.substring(0,50),section:r||"main_faq",user_intent:"information_seeking"})}faqCollapsed(s,t){this.track("faq_collapsed",{question_id:s,time_spent_ms:t,engagement:t>5e3?"high":t>2e3?"medium":"low"})}infoBoxOpened(s,t,r){this.track("info_box_opened",{box_type:s,box_id:t,trigger:r})}infoBoxLinkClicked(s,t,r){this.track("info_box_link_clicked",{box_id:s,link_text:t.substring(0,30),destination:r})}errorOccurred(s,t,r){this.track("error_occurred",{error_type:s,message:t.substring(0,100),component:r,critical:["network","api","component"].includes(s)})}performanceMetrics(s,t,r){this.track("performance_metrics",{lcp:Math.round(s),fid:Math.round(t),cls:Math.round(r*1e3)/1e3,device:window.innerWidth<768?"mobile":"desktop"})}scrollMilestone(s){this.track("scroll_milestone",{percentage:s,engagement:s>75?"high":s>50?"medium":"low"})}}const $=new ce;function ue(u){const s=d.useRef(null),t=d.useCallback(()=>{s.current=Date.now(),$.quizStarted(u)},[u]),r=d.useCallback((n,x,y,m)=>{$.quizStepCompleted(n,u,x,y,m)},[u]),l=d.useCallback((n,x)=>{$.quizAbandoned(n,u,x)},[u]),c=d.useCallback((n,x)=>{$.quizCompleted(u,n,x)},[u]);return{startQuiz:t,completeStep:r,abandonQuiz:l,completeQuiz:c}}function me(){const u=d.useCallback((r,l,c)=>{$.leadModalOpened(r,l,c)},[]),s=d.useCallback((r,l,c)=>{$.leadCaptured(r,l,!!c.company,!!c.phone)},[]),t=d.useCallback((r,l)=>{$.leadCaptureFailed(r,l)},[]);return{trackOpen:u,trackLeadCapture:s,trackError:t}}const be=({isVisible:u})=>u?e.jsx("div",{className:"fixed inset-0 transition-all duration-300",style:{backgroundColor:"rgba(37, 53, 63, 0.7)",backdropFilter:"blur(8px)",WebkitBackdropFilter:"blur(8px)",zIndex:998}}):null,pe=({onSubmit:u,onClose:s,isSubmitting:t,submitError:r,modalType:l="lead",savedFormData:c={},userType:n="",score:x=0})=>{const{trackOpen:y}=me(),[m,w]=d.useState({firstName:c.firstName||"",lastName:c.lastName||"",email:c.email||"",company:c.company||"",teamEmails:[""]}),[j,F]=d.useState({});d.useEffect(()=>{y("quiz_completion",n,x)},[y,n,x]),d.useEffect(()=>{Object.keys(c).length>0&&w(i=>({...i,firstName:c.firstName||i.firstName,lastName:c.lastName||i.lastName,email:c.email||i.email,company:c.company||i.company}))},[c]),d.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow=""}),[]);const V=()=>{const i={};if(l==="share"){m.firstName.trim()||(i.firstName="Votre prénom est requis"),m.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(m.email)||(i.email="Format d'email invalide"):i.email="Votre email est requis";const p=m.teamEmails.filter(S=>S.trim());p.length===0?i.teamEmails="Au moins un email d'équipe est requis":p.filter(k=>!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(k)).length>0&&(i.teamEmails="Certains emails sont invalides")}else m.firstName.trim()||(i.firstName="Le prénom est requis"),m.lastName.trim()||(i.lastName="Le nom est requis"),m.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(m.email)||(i.email="Format d'email invalide"):i.email="L'email est requis";return F(i),Object.keys(i).length===0},I=i=>{if(i.preventDefault(),V()){const p={...m,modalType:l};l==="share"&&(p.teamEmails=m.teamEmails.filter(S=>S.trim())),u(p)}},O=()=>{w(i=>({...i,teamEmails:[...i.teamEmails,""]}))},P=i=>{w(p=>({...p,teamEmails:p.teamEmails.filter((S,k)=>k!==i)}))},U=(i,p)=>{w(S=>({...S,teamEmails:S.teamEmails.map((k,L)=>L===i?p:k)}))};return de.createPortal(e.jsxs(e.Fragment,{children:[e.jsx(be,{isVisible:!0}),e.jsx("div",{className:"modal-portal",onClick:i=>i.target===i.currentTarget&&s(),children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"text-4xl mb-3",children:l==="share"?"👥":"📬"}),e.jsx("h3",{className:"text-2xl font-bold bg-gradient-to-r from-copper to-light-blue bg-clip-text text-transparent mb-2",children:l==="share"?"Partager à votre équipe":"Obtenez votre rapport personnalisé"}),e.jsx("p",{className:"text-beige/80",children:l==="share"?"Envoyez les résultats de ce test à vos collègues":"Rapport envoyé dans les 3 minutes. Pensez à vérifier vos spams."})]}),e.jsxs("form",{onSubmit:I,className:"space-y-4",children:[l==="share"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-sm font-medium text-beige/80 mb-3",children:"🔄 Vos informations (expéditeur)"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("input",{type:"text",placeholder:"Votre prénom *",value:m.firstName,onChange:i=>w(p=>({...p,firstName:i.target.value})),className:`w-full p-4 bg-dark-blue/50 border-2 rounded-xl text-beige placeholder-beige/50 outline-none transition-all duration-200 ${j.firstName?"border-red-400 focus:border-red-500":"border-beige/20 focus:border-copper hover:border-beige/30"}`}),j.firstName&&e.jsx("p",{className:"text-red-400 text-sm mt-1",children:j.firstName})]}),e.jsxs("div",{children:[e.jsx("input",{type:"email",placeholder:"Votre email *",value:m.email,onChange:i=>w(p=>({...p,email:i.target.value})),className:`w-full p-4 bg-dark-blue/50 border-2 rounded-xl text-beige placeholder-beige/50 outline-none transition-all duration-200 ${j.email?"border-red-400 focus:border-red-500":"border-beige/20 focus:border-copper hover:border-beige/30"}`}),j.email&&e.jsx("p",{className:"text-red-400 text-sm mt-1",children:j.email})]})]}),e.jsx("div",{children:e.jsx("input",{type:"text",placeholder:"Entreprise",value:m.company,onChange:i=>w(p=>({...p,company:i.target.value})),className:"w-full p-4 bg-dark-blue/50 border-2 border-beige/20 rounded-xl text-beige placeholder-beige/50 outline-none focus:border-copper hover:border-beige/30 transition-all duration-200"})})]}),e.jsxs("div",{className:"border-t border-beige/10 pt-4",children:[e.jsx("h4",{className:"text-sm font-medium text-beige/80 mb-3",children:"👥 Emails de l'équipe"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs text-beige/60",children:"Emails de l'équipe *"}),m.teamEmails.map((i,p)=>e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"email",placeholder:`Email ${p+1}`,value:i,onChange:S=>U(p,S.target.value),className:"flex-1 p-3 bg-dark-blue/50 border border-beige/20 rounded-lg text-beige placeholder-beige/50 outline-none focus:border-copper hover:border-beige/30 transition-all duration-200"}),m.teamEmails.length>1&&e.jsx("button",{type:"button",onClick:()=>P(p),className:"p-3 border border-red-400/30 text-red-400 rounded-lg hover:bg-red-400/10 transition-colors",children:"✕"})]},p)),e.jsx("button",{type:"button",onClick:O,className:"w-full p-2 border-2 border-dashed border-beige/30 text-beige/60 rounded-lg hover:border-beige/50 hover:text-beige/80 transition-all duration-200 text-sm",children:"➕ Ajouter un email"}),j.teamEmails&&e.jsx("p",{className:"text-red-400 text-sm mt-1",children:j.teamEmails})]})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("input",{type:"text",placeholder:"Prénom *",value:m.firstName,onChange:i=>w(p=>({...p,firstName:i.target.value})),className:`w-full p-4 bg-dark-blue/50 border-2 rounded-xl text-beige placeholder-beige/50 outline-none transition-all duration-200 ${j.firstName?"border-red-400 focus:border-red-500":"border-beige/20 focus:border-copper hover:border-beige/30"}`}),j.firstName&&e.jsx("p",{className:"text-red-400 text-sm mt-1",children:j.firstName})]}),e.jsxs("div",{children:[e.jsx("input",{type:"text",placeholder:"Nom *",value:m.lastName,onChange:i=>w(p=>({...p,lastName:i.target.value})),className:`w-full p-4 bg-dark-blue/50 border-2 rounded-xl text-beige placeholder-beige/50 outline-none transition-all duration-200 ${j.lastName?"border-red-400 focus:border-red-500":"border-beige/20 focus:border-copper hover:border-beige/30"}`}),j.lastName&&e.jsx("p",{className:"text-red-400 text-sm mt-1",children:j.lastName})]})]}),e.jsxs("div",{children:[e.jsx("input",{type:"email",placeholder:"Email professionnel *",value:m.email,onChange:i=>w(p=>({...p,email:i.target.value})),className:`w-full p-4 bg-dark-blue/50 border-2 rounded-xl text-beige placeholder-beige/50 outline-none transition-all duration-200 ${j.email?"border-red-400 focus:border-red-500":"border-beige/20 focus:border-copper hover:border-beige/30"}`}),j.email&&e.jsx("p",{className:"text-red-400 text-sm mt-1",children:j.email})]}),e.jsx("div",{children:e.jsx("input",{type:"text",placeholder:"Entreprise",value:m.company,onChange:i=>w(p=>({...p,company:i.target.value})),className:"w-full p-4 bg-dark-blue/50 border-2 border-beige/20 rounded-xl text-beige placeholder-beige/50 outline-none focus:border-copper hover:border-beige/30 transition-all duration-200"})})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:s,className:"flex-1 p-4 border-2 border-beige/20 rounded-xl text-beige hover:border-beige/40 hover:bg-beige/5 transition-all duration-200 font-medium",children:"Annuler"}),e.jsx("button",{type:"submit",disabled:t,className:"flex-1 p-4 bg-gradient-to-r from-copper to-copper/80 hover:from-copper/90 hover:to-copper/70 text-dark-blue font-bold rounded-xl transition-all duration-200 transform hover:scale-105 disabled:opacity-50 disabled:hover:scale-100 relative overflow-hidden group",children:e.jsx("div",{className:"relative z-10",children:t?e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-dark-blue/30 border-t-dark-blue rounded-full animate-spin"}),"Envoi..."]}):l==="share"?"Envoyer à l'équipe 👥":"Recevoir le rapport 🚀"})})]})]}),r&&e.jsx("div",{className:"mt-4 p-3 bg-red-400/10 border border-red-400/30 rounded-lg",children:e.jsx("p",{className:"text-red-400 text-sm text-center",children:r})})]})})]}),document.body)},he="https://app.cal.com/embed/embed.js";function ge(u=he){(function(s,t,r){let l=function(n,x){n.q.push(x)},c=s.document;s.Cal=s.Cal||function(){let n=s.Cal,x=arguments;if(n.loaded||(n.ns={},n.q=n.q||[],c.head.appendChild(c.createElement("script")).src=t,n.loaded=!0),x[0]===r){const y=function(){l(y,arguments)},m=x[1];y.q=y.q||[],typeof m=="string"?(n.ns[m]=n.ns[m]||y,l(n.ns[m],x),l(n,["initNamespace",m])):l(n,x);return}l(n,x)}})(window,u,"init");/*!  Copying ends here. */return window.Cal}function xe(u){const s=typeof u=="string"?{embedJsUrl:u}:u??{},{namespace:t="",embedJsUrl:r}=s;return new Promise(function l(c){const n=ge(r);n("init",t);const x=t?n.ns[t]:n;if(!x){setTimeout(()=>{l(c)},50);return}c(x)})}const fe=({score:u,roiEstimate:s,onShowLeadCapture:t,onRestart:r,isLeadCaptured:l=!1,shareEnabled:c=!1,userType:n=""})=>{const[x,y]=d.useState(0),[m,w]=d.useState(0),[j,F]=d.useState(!1),[V,I]=d.useState(!1),[O,P]=d.useState(!1);d.useEffect(()=>{$.quizModalOpened("results",n,u),$.reportDetailsViewed(n,u,"main_results")},[n,u]),d.useEffect(()=>{(async function(){(await xe({namespace:"appel-decouverte-octomate"}))("ui",{cssVarsPerTheme:{light:{"cal-brand":"#25353F"},dark:{"cal-brand":"#F5F1E6"}},hideEventTypeDetails:!1,layout:"month_view"})})()},[]),d.useEffect(()=>{const L=Date.now(),G=()=>{const J=Date.now()-L,T=Math.min(J/2500,1),H=1-Math.pow(1-T,3);y(Math.round(s*H)),w(Math.round(u*H)),T<1?requestAnimationFrame(G):(F(!0),setTimeout(()=>F(!1),3e3))};requestAnimationFrame(G)},[s,u]);const i=u>69?{title:"🚀 Potentiel EXCELLENT !",message:"Votre profil est idéal pour l'automatisation",action:"Recevoir mon rapport détaillé et réserver un audit",subtext:"Réservez ensuite un échange offert pour passer à l’action",icon:"🚀",gradient:"from-green-400 to-emerald-500",bgGradient:"from-green-400/20 to-emerald-500/10"}:u>=50?{title:"💡 Beau potentiel d'optimisation",message:"Plusieurs opportunités d'amélioration identifiées",action:"Recevoir mon rapport détaillé et ma checklist",subtext:"3 automatisations simples à mettre en place + checklist des priorités avant d'automatiser",icon:"💡",gradient:"from-orange-400 to-amber-500",bgGradient:"from-orange-400/20 to-amber-500/10"}:{title:"📧 Premiers pas vers l'automatisation",message:"Commençons par les bases pour optimiser votre efficacité",action:"Obtenir mon rapport détaillé",subtext:"Plus de détails pour mieux comprendre vos besoins",icon:"📧",gradient:"from-blue-400 to-cyan-500",bgGradient:"from-blue-400/20 to-cyan-500/10"},p=()=>e.jsxs("div",{className:"text-left space-y-3 text-sm text-beige/80",children:[e.jsx("h4",{className:"font-semibold text-beige mb-2",children:"Comment calculons-nous votre score ?"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{children:["• ",e.jsx("strong",{children:"Maturité digitale"})," : outils utilisés, expérience, organisation actuelle"]}),e.jsxs("p",{children:["• ",e.jsx("strong",{children:"Charge d’activité"})," : taille de l’équipe, temps passé sur les tâches"]}),e.jsxs("p",{children:["• ",e.jsx("strong",{children:"Complexité"})," : nombre et type de tâches ciblées"]}),e.jsxs("p",{children:["• ",e.jsx("strong",{children:"Readiness"})," : envie de passer à l’action et capacité à investir"]})]}),e.jsx("p",{className:"text-xs text-beige/60 italic mt-3",children:"Le score ne vous juge pas — il nous aide à mieux cibler votre plan d’action."})]}),S=()=>e.jsxs("div",{className:"text-left space-y-3 text-sm text-beige/80",children:[e.jsx("h4",{className:"font-semibold text-beige mb-2",children:"Comment estimons-nous vos économies ?"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{children:["• ",e.jsx("strong",{children:"Automatisation projetée"})," : Nous estimons qu’en moyenne, 85 % des tâches peuvent être automatisées."]}),e.jsxs("p",{children:["• ",e.jsx("strong",{children:"Temps économisé"})," : Tâches manuelles × collaborateurs × 4 semaines"]}),e.jsxs("p",{children:["• ",e.jsx("strong",{children:"Valorisation"})," : Ce temps est multiplié par un taux horaire estimé"]}),e.jsxs("p",{children:["• ",e.jsx("strong",{children:"Effet de levier"})," : On applique un multiplicateur (jusqu’à +25 %) basé sur vos réponses"]}),e.jsxs("p",{children:["• ",e.jsx("strong",{children:"Bonus final"})," : Un petit ajustement selon votre budget ou vos priorités métiers"]})]}),e.jsx("p",{className:"text-xs text-beige/60 italic mt-3",children:"Basé sur notre expérience terrain et l’analyse approfondie de plus de 200 automatisations métiers."})]});return e.jsxs("div",{className:"text-center space-y-8 relative",children:[j&&e.jsxs("div",{className:"absolute inset-0 pointer-events-none z-20",children:[e.jsx("div",{className:"absolute top-1/4 left-1/4 w-2 h-2 bg-yellow-400 rounded-full animate-ping"}),e.jsx("div",{className:"absolute top-1/3 right-1/4 w-2 h-2 bg-orange-400 rounded-full animate-ping delay-200"}),e.jsx("div",{className:"absolute top-1/2 left-1/3 w-2 h-2 bg-green-400 rounded-full animate-ping delay-500"}),e.jsx("div",{className:"absolute top-2/3 right-1/3 w-2 h-2 bg-blue-400 rounded-full animate-ping delay-700"}),e.jsx("div",{className:"absolute bottom-1/4 left-1/2 w-2 h-2 bg-purple-400 rounded-full animate-ping delay-1000"})]}),e.jsx("div",{className:"text-6xl mb-6 animate-bounce",children:i.icon}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:`text-3xl font-bold bg-gradient-to-r ${i.gradient} bg-clip-text text-transparent`,children:i.title}),e.jsxs("div",{className:`bg-gradient-to-br ${i.bgGradient} backdrop-blur-sm rounded-2xl p-8 border border-beige/10 relative overflow-hidden`,children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/5 to-transparent animate-pulse"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"text-5xl font-bold text-beige mb-3",children:["💰 ",x.toLocaleString(),"€",e.jsx("span",{className:"text-xl text-beige/60",children:"/mois"})]}),e.jsx("div",{className:"text-beige/80 text-lg",children:"d'économies potentielles à 85% d'automatisation"}),e.jsxs("div",{className:"flex items-center justify-center gap-2 mt-4",children:[e.jsx("span",{className:"text-beige/60",children:"Estimation basée sur vos réponses"}),e.jsx("button",{onClick:()=>P(!O),className:"w-5 h-5 bg-beige/20 rounded-full text-xs text-beige/60 hover:bg-beige/30 transition-colors flex items-center justify-center",title:"Comment calculons-nous cette estimation ?",children:"i"})]}),O&&e.jsx("div",{className:"mt-4 p-4 bg-dark-blue/30 rounded-xl border border-beige/10",children:S()})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-dark-blue/50 to-dark-blue/30 backdrop-blur-sm rounded-xl p-6 border border-beige/10 relative",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-beige/60 mb-1",children:"Score d'automatisation"}),e.jsxs("div",{className:"text-3xl font-bold text-copper",children:[m,e.jsx("span",{className:"text-lg text-beige/50",children:"/100"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"w-16 h-16 relative",children:[e.jsxs("svg",{className:"w-16 h-16 transform -rotate-90",viewBox:"0 0 36 36",children:[e.jsx("circle",{cx:"18",cy:"18",r:"16",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"text-dark-blue/50"}),e.jsx("circle",{cx:"18",cy:"18",r:"16",fill:"none",stroke:"currentColor",strokeWidth:"3",className:"text-copper",strokeDasharray:`${m} 100`,strokeLinecap:"round"})]}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsxs("span",{className:"text-xs font-bold text-copper",children:[m,"%"]})})]}),e.jsx("button",{onClick:()=>I(!V),className:"w-6 h-6 bg-beige/20 rounded-full text-xs text-beige/60 hover:bg-beige/30 transition-colors flex items-center justify-center",title:"Comment calculons-nous ce score ?",children:"i"})]})]}),V&&e.jsx("div",{className:"mt-4 p-4 bg-dark-blue/30 rounded-xl border border-beige/10",children:p()})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("p",{className:"text-lg text-beige/80",children:i.message}),l?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-green-500/20 to-green-400/10 border-2 border-green-400/30 rounded-2xl p-6 text-center relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-green-400/10 via-transparent to-green-400/10 animate-pulse"}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("div",{className:"text-4xl mb-3 animate-bounce",children:"✅"}),e.jsx("h4",{className:"text-xl font-bold text-green-400 mb-2",children:"Rapport envoyé avec succès !"}),e.jsx("p",{className:"text-beige/80 text-sm",children:"Vérifiez vos emails dans les 3 prochaines minutes"})]})]}),u>70&&e.jsxs("div",{className:"bg-gradient-to-br from-copper/20 to-copper/10 border-2 border-copper/40 rounded-2xl p-6 text-center",children:[e.jsx("div",{className:"text-3xl mb-3",children:"🚀"}),e.jsx("h4",{className:"text-lg font-bold text-copper mb-3",children:"Réservez votre audit gratuit"}),e.jsx("p",{className:"text-beige/80 text-sm mb-4",children:"Parlons de votre projet d'automatisation (30min)"}),e.jsxs("button",{"data-cal-namespace":"appel-decouverte-octomate","data-cal-link":"thibaud-chezparallax/appel-decouverte-octomate","data-cal-config":'{"layout":"month_view"}',className:"w-full bg-gradient-to-r from-copper to-copper/80 hover:from-copper/90 hover:to-copper/70 text-dark-blue font-bold py-4 px-8 rounded-xl transition-all duration-200 transform hover:scale-105 shadow-lg relative overflow-hidden group",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/20 via-transparent to-white/20 transform -skew-x-12 -translate-x-full group-hover:translate-x-full transition-transform duration-700"}),e.jsxs("div",{className:"relative z-10 flex items-center justify-center gap-2",children:[e.jsx("span",{children:"📅"}),e.jsx("span",{children:"Je réserve mon appel découverte"})]})]})]}),u>=50&&u<=70&&e.jsxs("div",{className:"bg-gradient-to-br from-orange-500/20 to-amber-500/10 border-2 border-orange-400/40 rounded-2xl p-6 text-center",children:[e.jsx("div",{className:"text-3xl mb-3",children:"📋"}),e.jsx("h4",{className:"text-lg font-bold text-orange-400 mb-3",children:"Téléchargez notre checklist"}),e.jsx("p",{className:"text-beige/80 text-sm mb-4",children:"Guide pratique pour démarrer votre automatisation (PDF gratuit)"}),e.jsxs("a",{href:"https://drive.google.com/uc?export=download&id=1pv68vHFvLBbg1WksoQX3UbFMF4HFGXyw",target:"_blank",rel:"noopener noreferrer",className:"w-full bg-gradient-to-r from-orange-400 to-amber-500 hover:from-orange-500 hover:to-amber-600 text-dark-blue font-bold py-4 px-8 rounded-xl transition-all duration-200 transform hover:scale-105 shadow-lg relative overflow-hidden group inline-flex items-center justify-center",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/20 via-transparent to-white/20 transform -skew-x-12 -translate-x-full group-hover:translate-x-full transition-transform duration-700"}),e.jsxs("div",{className:"relative z-10 flex items-center justify-center gap-2",children:[e.jsx("span",{children:"📎"}),e.jsx("span",{children:"Télécharger la checklist"})]})]}),e.jsx("p",{className:"text-xs text-beige/60 mt-3",children:"• Les 3 automatisations prioritaires • Guide d'implémentation • Checklist d'évaluation"})]})]}):e.jsxs("button",{onClick:()=>t("lead"),className:`w-full text-white font-bold py-5 px-8 rounded-2xl transition-all duration-300 transform text-lg relative overflow-hidden group ${u>70?"results-button-high-score":u>=50?"results-button-medium-score":"results-button-low-score"}`,children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/20 via-transparent to-white/20 transform -skew-x-12 -translate-x-full group-hover:translate-x-full transition-transform duration-700"}),e.jsx("div",{className:"relative z-10",children:i.action})]}),e.jsx("p",{className:"text-sm text-beige/60",children:i.subtext}),l?e.jsx("div",{style:{position:"relative"},children:e.jsxs("button",{onClick:()=>t("share"),style:{width:"100%",padding:"12px 24px",border:c?"2px solid rgba(126, 161, 196, 0.6)":"2px solid rgba(126, 161, 196, 0.4)",borderRadius:"12px",background:"transparent",color:"#7ea1c4",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",fontWeight:"500",transition:"all 0.3s ease",zIndex:10,position:"relative",boxShadow:c?"0 4px 15px rgba(126, 161, 196, 0.2)":"none",outline:"none"},onMouseOver:k=>{k.target.style.borderColor="rgba(126, 161, 196, 0.8)",k.target.style.background="rgba(126, 161, 196, 0.1)",k.target.style.transform="scale(1.02)"},onMouseOut:k=>{k.target.style.borderColor=c?"rgba(126, 161, 196, 0.6)":"rgba(126, 161, 196, 0.4)",k.target.style.background="transparent",k.target.style.transform="scale(1)"},children:[e.jsx("span",{style:{animation:c?"bounce 1s infinite":"none",outline:"none",userSelect:"none",pointerEvents:"none",border:"none"},children:"👥"}),e.jsx("span",{style:{outline:"none",userSelect:"none",pointerEvents:"none",border:"none"},children:"Partager à mon équipe"}),c&&e.jsx("span",{style:{color:"#10b981",fontSize:"14px",outline:"none",userSelect:"none",pointerEvents:"none",border:"none"},children:"✨"})]})}):e.jsxs("div",{style:{position:"relative"},className:"tooltip-container",children:[e.jsxs("button",{disabled:!0,style:{width:"100%",padding:"12px 24px",border:"2px solid rgba(245, 241, 230, 0.2)",borderRadius:"12px",background:"transparent",color:"rgba(245, 241, 230, 0.4)",cursor:"not-allowed",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",fontWeight:"500",outline:"none"},children:[e.jsx("span",{style:{opacity:.5,pointerEvents:"none"},children:"👥 Partager à mon équipe"}),e.jsx("span",{style:{fontSize:"12px",opacity:.7,pointerEvents:"none"},children:"🔒"})]}),e.jsx("div",{className:"tooltip",children:"Vous devez d'abord recevoir votre rapport détaillé pour le partager"})]}),e.jsx("button",{onClick:r,className:"w-full border-2 border-beige/20 text-beige py-3 px-6 rounded-xl hover:border-beige/40 hover:bg-beige/5 transition-all duration-200 font-medium",children:"🔄 Recommencer le test"})]})]})},we=()=>{const[u,s]=d.useState(!1),[t,r]=d.useState(0),[l,c]=d.useState(""),[n,x]=d.useState({}),[y,m]=d.useState(!1),[w,j]=d.useState(!1),[F,V]=d.useState("lead"),[I,O]=d.useState(!1),[P,U]=d.useState({}),[i,p]=d.useState(0),[S,k]=d.useState(0),[L,G]=d.useState(!1),[J,T]=d.useState(!1),[H,X]=d.useState(""),[K,Y]=d.useState("opacity-100"),[te,Z]=d.useState(!1),{abandonQuiz:ee}=ue(l);d.useEffect(()=>{const a=document.getElementById("quiz-skeleton");a&&(a.style.display="none");const C=document.querySelector(".quiz-calculator-container");C&&C.setAttribute("data-quiz-loaded","true")},[]),d.useEffect(()=>()=>{u&&!y&&t>0&&ee(t)},[u,y,t,ee]),d.useEffect(()=>{if(w){document.body.classList.add("site-blur-active"),document.body.style.overflow="hidden";const a=document.createElement("div");a.id="site-modal-overlay",a.className="site-blur-overlay",document.body.appendChild(a)}else{document.body.classList.remove("site-blur-active"),document.body.style.overflow="";const a=document.getElementById("site-modal-overlay");a&&a.remove()}return()=>{document.body.classList.remove("site-blur-active"),document.body.style.overflow="";const a=document.getElementById("site-modal-overlay");a&&a.remove()}},[w]);const se=()=>{if(window.innerWidth<=768){const a=document.querySelector(".quiz-calculator-container");if(a){const C=a.getBoundingClientRect(),o=(window.pageYOffset||document.documentElement.scrollTop)+C.top-60;window.scrollTo({top:o,behavior:"smooth"})}}};d.useEffect(()=>{if(u&&(t>0||l)){const a=setTimeout(se,200);return()=>clearTimeout(a)}},[t,u,l]);const Q=a=>{Y("opacity-0 scale-95"),setTimeout(()=>{a(),Y("opacity-100 scale-100")},150)},B={marketing:[{id:"team_size",question:"Taille de l'équipe marketing ?",emoji:"👥",type:"slider",min:1,max:20,unit:"personne(s)",weight:10},{id:"time_spent",question:"Temps passé chaque semaine sur des tâches manuelles par personne ?",emoji:"⏰",type:"emoji_range",options:[{value:2,label:"0-2h",emoji:"😌",description:"Très peu"},{value:5,label:"3-5h",emoji:"😐",description:"Modéré"},{value:8,label:"6-8h",emoji:"😫",description:"Beaucoup"},{value:12,label:"9h+",emoji:"🤯",description:"Énorme"}],weight:20},{id:"tasks_to_automate",question:"Quelles tâches souhaitez-vous automatiser ?",emoji:"🚀",type:"multi_tag",options:["Reporting","Copywriting","CRM","Génération de leads","Création de contenu","Facturation","Onboarding"],allowOther:!0,weight:15},{id:"tools_used",question:"Outils marketing utilisés aujourd'hui ?",emoji:"🛠️",type:"multi_select_grid",options:[{value:"hubspot",label:"HubSpot",bonus:5},{value:"salesforce",label:"Salesforce",bonus:5},{value:"airtable",label:"Airtable",bonus:4},{value:"sheets",label:"Google Sheets",bonus:2},{value:"notion",label:"Notion",bonus:3},{value:"gdrive",label:"Google Drive",bonus:2},{value:"gdocs",label:"Google Docs",bonus:2},{value:"gslides",label:"Google Slides",bonus:2},{value:"mailchimp",label:"MailChimp",bonus:3},{value:"brevo",label:"Brevo",bonus:3},{value:"meta",label:"Meta Business Suite",bonus:3},{value:"linkedin",label:"LinkedIn",bonus:2},{value:"typeform",label:"Typeform",bonus:3},{value:"calendly",label:"Calendly",bonus:3},{value:"canva",label:"Canva",bonus:2},{value:"figma",label:"Figma",bonus:2},{value:"trello",label:"Trello",bonus:2},{value:"slack",label:"Slack",bonus:3},{value:"teams",label:"Microsoft Teams",bonus:3}],allowOther:!0,weight:10},{id:"automation_maturity",question:"Votre relation avec l'automatisation aujourd'hui ?",emoji:"⚡",type:"scale",min:0,max:10,labels:{0:"Jamais utilisé",5:"Quelques essais",10:"Fan absolu"},weight:15},{id:"monthly_budget",question:"Budget marketing mensuel ?",emoji:"💰",type:"card_grid",options:[{value:500,label:"< 500€",description:"Débutant"},{value:1e3,label:"500€ - 1k€",description:"Petit budget"},{value:5e3,label:"1k€ - 5k€",description:"Budget modéré"},{value:1e4,label:"5k€ - 10k€",description:"Budget solide"},{value:25e3,label:"10k€ - 25k€",description:"Gros budget"},{value:5e4,label:"> 25k€",description:"Budget premium"}],weight:15},{id:"hourly_value",question:"Une heure de votre temps (ou de celui de votre équipe), ça vaut au moins…",emoji:"⏳",type:"slider",min:35,max:150,step:5,unit:"€/h",labelMin:"35€/h",labelMax:"150€/h+",weight:5},{id:"ready_to_invest",question:"Si on vous prouve un ROI ×3, êtes-vous prêt à avancer ?",emoji:"🎯",type:"buttons",options:[{value:"yes",label:"Oui, immédiatement !",bonus:15,color:"green"},{value:"discuss",label:"À discuter en équipe",bonus:10,color:"orange"},{value:"no",label:"Pas pour le moment",bonus:0,color:"red"}],weight:15}],business:[{id:"company_size",question:"Taille de l'entreprise (équipe globale) ?",emoji:"🏢",type:"slider",min:1,max:50,unit:"personne(s)",weight:15},{id:"time_consuming_tasks",question:"Quelles tâches vous prennent le plus de temps ?",emoji:"📝",type:"multi_tag",options:["Factures","Relances clients","Contrats","Gestion RH","Emails","Rapports","Saisies données"],allowOther:!0,weight:15},{id:"time_spent",question:"Temps passé chaque semaine par collaborateur sur des tâches manuelles ?",emoji:"⏰",type:"emoji_range",options:[{value:2,label:"0-2h",emoji:"😌",description:"Très peu"},{value:5,label:"3-5h",emoji:"😐",description:"Modéré"},{value:8,label:"6-8h",emoji:"😫",description:"Beaucoup"},{value:12,label:"9h+",emoji:"🤯",description:"Énorme"}],weight:20},{id:"tools_used",question:"Outils utilisés pour gérer et archiver ?",emoji:"💻",type:"multi_select_grid",options:[{value:"gdrive",label:"Google Drive",bonus:3},{value:"gdocs",label:"Google Docs",bonus:2},{value:"sheets",label:"Google Sheets",bonus:2},{value:"gslides",label:"Google Slides",bonus:2},{value:"teams",label:"Microsoft Teams",bonus:3},{value:"slack",label:"Slack",bonus:3},{value:"onedrive",label:"OneDrive",bonus:3},{value:"excel",label:"Excel",bonus:2},{value:"notion",label:"Notion",bonus:5},{value:"trello",label:"Trello",bonus:2},{value:"asana",label:"Asana",bonus:3},{value:"monday",label:"Monday.com",bonus:4},{value:"hubspot",label:"HubSpot CRM",bonus:5},{value:"salesforce",label:"Salesforce",bonus:5},{value:"payfit",label:"PayFit",bonus:4},{value:"lucca",label:"Lucca",bonus:4},{value:"factorial",label:"Factorial",bonus:4},{value:"quickbooks",label:"QuickBooks",bonus:4},{value:"sage",label:"Sage",bonus:4},{value:"docusign",label:"DocuSign",bonus:4}],allowOther:!0,weight:10},{id:"automation_experience",question:"Avez-vous déjà testé l'automatisation ?",emoji:"🔧",type:"buttons",options:[{value:"yes",label:"Oui, plusieurs fois",bonus:15,color:"green"},{value:"once",label:"Une fois ou deux",bonus:8,color:"orange"},{value:"no",label:"Jamais essayé",bonus:5,color:"blue"},{value:"unknown",label:"Je ne sais pas",bonus:2,color:"gray"}],weight:15},{id:"priority",question:"Votre priorité n°1 si vous pouviez tout déléguer ?",emoji:"🎯",type:"radio",options:[{value:"growth",label:"Accélérer notre croissance",bonus:16,icon:"📈"},{value:"time",label:"Gagner du temps",bonus:14,icon:"⏰"},{value:"errors",label:"Éviter les erreurs",bonus:10,icon:"✅"},{value:"tracking",label:"Suivre les dossiers facilement",bonus:12,icon:"📋"}],weight:10},{id:"need",question:"Avez-vous un projet d’automatisation en tête ?",emoji:"💭",type:"buttons",options:[{value:"concrete",label:"Oui, un besoin précis",bonus:15,color:"green"},{value:"ideas",label:"Des idées mais pas encore clair",bonus:10,color:"blue"},{value:"no",label:"Non, mais curieux",bonus:5,color:"gray"}],weight:10},{id:"hourly_value",question:"Une heure de votre temps (ou de celui de votre équipe), ça vaut au moins…",emoji:"⏳",type:"slider",min:35,max:150,step:5,unit:"€/h",labelMin:"35€/h",labelMax:"150€/h+",weight:5}]}[l]||[],b=B[t],re=()=>{let a=0,C=0;if(B.forEach(h=>{const o=n[h.id];if(!o)return;let f=0;switch(h.type){case"slider":h.id==="team_size"||h.id==="company_size"?f=Math.min(o/h.max*h.weight,h.weight):f=o/h.max*h.weight;break;case"emoji_range":const N=h.options.find(q=>q.value===o);f=N?N.value/12*h.weight:0;break;case"multi_tag":f=Math.min(o.length/4,1)*h.weight;break;case"multi_select_grid":const E=o.reduce((q,A)=>{const D=h.options.find(W=>W.value===A);return q+(D?.bonus||0)},0);f=Math.min(E,h.weight);break;case"scale":f=o/h.max*h.weight;break;case"card_grid":f=Math.min(o/25e3,1)*h.weight;break;case"radio":case"buttons":f=h.options.find(q=>q.value===o)?.bonus||0;break}a+=f}),l==="marketing"){const h=n.team_size||1,o=n.time_spent||2,f=n.hourly_value||45,N=n.monthly_budget||1e3,E=o*4,M=h*E*f*.85,q=Math.min(Math.max(1+a/100,1),1.25),A=Math.min(N*.05,500);C=M*q+A}else{const h=n.company_size||5,o=n.time_spent||2,f=n.hourly_value||35,E=o*h*4*f*.85,M=Math.min(Math.max(1+.025*(n.time_consuming_tasks?.length||0),1),1.25),q={time:1.075,growth:1.15,default:1},A=q[n.priority]||q.default;C=E*M*A}p(Math.round(Math.min(a,100))),k(Math.round(C))},_=a=>{x(C=>({...C,[b.id]:a}))},ae=()=>{Q(()=>{t<B.length-1?r(a=>a+1):(re(),m(!0))})},oe=()=>{Q(()=>{t>0?r(a=>a-1):(s(!1),r(0),x({}),c(""))})},le=async a=>{G(!0),X(""),U({firstName:a.firstName,lastName:a.lastName,email:a.email,company:a.company});try{const C={userType:a.modalType==="share"?"share":l,answers:n,score:i,roiEstimate:S,...a,timestamp:new Date().toISOString(),source:"octomate-quiz"};if(a.modalType==="share"){const h=await fetch("https://n8n.chezparallax.fr/webhook/landing-octomate_lead-capture",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify(C),mode:"cors"});if(h.ok)T(!0),j(!1),setTimeout(()=>T(!1),5e3),m(!0);else throw new Error(`Erreur ${h.status}: ${h.statusText}`)}else{const h=await fetch("https://n8n.chezparallax.fr/webhook/landing-octomate_lead-capture",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify(C),mode:"cors"});if(h.status===200)O(!0),j(!1),m(!0),Z(!0);else throw new Error(`Erreur ${h.status}: ${h.statusText}`)}}catch(C){console.error("Webhook error:",C),X("Une erreur est survenue. Veuillez réessayer dans quelques instants.")}finally{G(!1)}},ie=()=>{if(!b)return null;const a=n[b.id];switch(b.type){case"slider":return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between text-sm text-beige/60",children:[e.jsx("span",{children:b.labelMin||b.min}),e.jsxs("div",{className:"text-center",children:[e.jsx("span",{className:"text-2xl font-bold text-copper block",children:a||b.min}),e.jsx("span",{className:"text-xs text-beige/50",children:b.unit})]}),e.jsx("span",{children:b.labelMax||`${b.max}+`})]}),e.jsx("div",{className:"relative",children:e.jsx("input",{type:"range",min:b.min,max:b.max,step:b.step||1,value:a||b.min,onChange:o=>_(parseInt(o.target.value)),className:"w-full h-3 bg-gradient-to-r from-dark-blue/50 via-light-blue/30 to-copper/50 rounded-full appearance-none cursor-pointer slider-enhanced",style:{background:`linear-gradient(to right, #25353f 0%, #7ea1c4 ${(a||b.min)/b.max*100}%, #c78a5c 100%)`}})})]});case"emoji_range":return e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:b.options.map(o=>e.jsxs("button",{onClick:()=>_(o.value),className:`group p-6 rounded-2xl border-2 transition-all duration-300 transform hover:scale-105 ${a===o.value?"border-copper bg-gradient-to-br from-copper/20 to-copper/10 text-copper shadow-lg shadow-copper/20":"border-beige/20 bg-gradient-to-br from-dark-blue/30 to-dark-blue/10 hover:border-beige/40 hover:shadow-lg"}`,children:[e.jsx("div",{className:"text-4xl mb-3 group-hover:animate-bounce",children:o.emoji}),e.jsx("div",{className:"text-sm font-bold mb-1",children:o.label}),e.jsx("div",{className:"text-xs text-beige/60",children:o.description})]},o.value))});case"multi_tag":const C=()=>{const[o,f]=d.useState(!1),[N,E]=d.useState(""),M=b.options,q=a||[],A=q.filter(g=>!M.includes(g)),D=()=>{if(N.trim()){const g=N.trim();_([...a||[],g]),E(""),f(!1)}},W=g=>{g.key==="Enter"?(g.preventDefault(),D()):g.key==="Escape"&&(f(!1),E(""))},v=g=>{_((a||[]).filter(R=>R!==g))};return e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"flex flex-wrap gap-3 justify-center",children:[M.map(g=>{const z=q.includes(g);return e.jsx("button",{onClick:()=>{const R=a||[];_(z?R.filter(ne=>ne!==g):[...R,g])},className:`px-4 py-2 rounded-full text-sm font-medium transition-all duration-200 transform hover:scale-105 ${z?"bg-gradient-to-r from-copper to-copper/80 text-dark-blue shadow-lg":"bg-dark-blue/50 border border-beige/20 hover:border-copper/50 hover:bg-dark-blue/70"}`,children:g},g)}),A.map((g,z)=>e.jsx("div",{className:"relative group",children:e.jsxs("button",{onClick:()=>v(g),className:"px-4 py-2 rounded-full text-sm font-medium transition-all duration-200 group bg-gradient-to-r from-light-blue/40 to-light-blue/30 border border-light-blue/60 text-light-blue hover:from-light-blue/50 hover:to-light-blue/40",children:[g,e.jsx("span",{className:"ml-2 opacity-0 group-hover:opacity-100 transition-opacity text-red-400",children:"×"})]})},`custom-${g}-${z}`)),o?e.jsx("div",{className:"inline-flex items-center gap-2 px-3 py-2 bg-gradient-to-r from-copper/20 to-copper/10 border border-copper/40 rounded-full editable-pill",children:e.jsx("input",{type:"text",value:N,onChange:g=>E(g.target.value),onKeyDown:W,onBlur:()=>{N.trim()?D():f(!1)},placeholder:"Votre tâche...",className:"bg-transparent border-none outline-none text-sm text-beige placeholder-beige/50 w-32",autoFocus:!0})}):e.jsx("button",{onClick:()=>f(!0),className:"px-4 py-2 rounded-full text-sm font-medium bg-gradient-to-r from-light-blue/30 to-light-blue/20 border border-light-blue/40 text-light-blue hover:from-light-blue/40 hover:to-light-blue/30 transition-all duration-200",children:"➕ Autre"})]})})};return e.jsx(C,{});case"multi_select_grid":const h=()=>{const[o,f]=d.useState(!1),[N,E]=d.useState("");b.options.map(v=>v.value);const M=a||[],q=M.filter(v=>v.startsWith("custom_")).map(v=>v.replace("custom_","")),A=()=>{if(N.trim()){const v=N.trim(),g=a||[],z=`custom_${v}`;_([...g,z]),E(""),f(!1)}},D=v=>{v.key==="Enter"?(v.preventDefault(),A()):v.key==="Escape"&&(f(!1),E(""))},W=v=>{const g=a||[],z=`custom_${v}`;_(g.filter(R=>R!==z))};return e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:[b.options.map(v=>{const g=M.includes(v.value);return e.jsx("button",{onClick:()=>{const z=a||[];_(g?z.filter(R=>R!==v.value):[...z,v.value])},className:`group p-3 rounded-xl border text-center transition-all duration-200 transform hover:scale-105 ${g?"border-copper bg-gradient-to-br from-copper/20 to-copper/10 text-copper shadow-lg":"border-beige/20 bg-gradient-to-br from-dark-blue/30 to-dark-blue/10 hover:border-beige/40"}`,children:e.jsx("div",{className:"font-medium text-sm group-hover:text-copper transition-colors",children:v.label})},v.value)}),q.map((v,g)=>e.jsx("div",{className:"relative group",children:e.jsx("button",{onClick:()=>W(v),className:"w-full p-3 rounded-xl border text-center transition-all duration-200 group bg-gradient-to-br from-light-blue/30 to-light-blue/20 border-light-blue/60 text-light-blue hover:from-light-blue/40 hover:to-light-blue/30",children:e.jsxs("div",{className:"font-medium text-sm flex items-center justify-center gap-2",children:[v,e.jsx("span",{className:"opacity-0 group-hover:opacity-100 transition-opacity text-red-400 text-xs",children:"×"})]})})},`custom-tool-${v}-${g}`)),o?e.jsx("div",{className:"p-3 rounded-xl border border-copper/40 bg-gradient-to-br from-copper/10 to-copper/5 flex items-center justify-center editable-pill",children:e.jsx("input",{type:"text",value:N,onChange:v=>E(v.target.value),onKeyDown:D,onBlur:()=>{N.trim()?A():f(!1)},placeholder:"Nom outil...",className:"bg-transparent border-none outline-none text-sm text-beige placeholder-beige/50 text-center w-full",autoFocus:!0})}):e.jsx("button",{onClick:()=>f(!0),className:"p-3 rounded-xl border border-light-blue/40 bg-gradient-to-br from-light-blue/20 to-light-blue/10 text-light-blue hover:from-light-blue/30 hover:to-light-blue/20 transition-all duration-200 text-center",children:e.jsx("div",{className:"font-medium text-sm",children:"➕ Autre outil"})})]})})};return e.jsx(h,{});case"multi_select":return e.jsx("div",{className:"space-y-4",children:b.options.map(o=>{const f=Array.isArray(a)?a.includes(o.value):a===o.value;return e.jsxs("button",{onClick:()=>{if(Array.isArray(a)){const N=a||[];_(f?N.filter(E=>E!==o.value):[...N,o.value])}else _(o.value)},className:`w-full p-4 rounded-xl border-2 text-left transition-all duration-200 flex items-center gap-4 ${f?"border-copper bg-gradient-to-r from-copper/20 to-copper/10 text-copper shadow-lg":"border-beige/20 bg-gradient-to-r from-dark-blue/30 to-dark-blue/10 hover:border-beige/40"}`,children:[o.icon&&e.jsx("span",{className:"text-2xl",children:o.icon}),e.jsx("span",{className:"font-medium",children:o.label})]},o.value)})});case"scale":return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between text-sm text-beige/60",children:[e.jsx("span",{children:b.labels[b.min]}),e.jsxs("div",{className:"text-center",children:[e.jsx("span",{className:"text-2xl font-bold text-copper block",children:a||b.min}),e.jsx("span",{className:"text-xs text-beige/50",children:"/10"})]}),e.jsx("span",{children:b.labels[b.max]})]}),e.jsx("div",{className:"relative",children:e.jsx("input",{type:"range",min:b.min,max:b.max,value:a||b.min,onChange:o=>_(parseInt(o.target.value)),className:"w-full h-3 bg-gradient-to-r from-dark-blue/50 via-light-blue/30 to-copper/50 rounded-full appearance-none cursor-pointer slider-enhanced",style:{background:`linear-gradient(to right, #25353f 0%, #7ea1c4 ${(a||b.min)/b.max*100}%, #c78a5c 100%)`}})})]});case"card_grid":return e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:b.options.map(o=>e.jsxs("button",{onClick:()=>_(o.value),className:`group p-6 rounded-2xl border-2 text-center transition-all duration-300 transform hover:scale-105 ${a===o.value?"border-copper bg-gradient-to-br from-copper/20 to-copper/10 text-copper shadow-xl shadow-copper/20":"border-beige/20 bg-gradient-to-br from-dark-blue/30 to-dark-blue/10 hover:border-beige/40 hover:shadow-lg"}`,children:[e.jsx("div",{className:"text-xl font-bold mb-2 group-hover:text-copper transition-colors",children:o.label}),e.jsx("div",{className:"text-xs text-beige/60",children:o.description})]},o.value))});case"radio":return e.jsx("div",{className:"space-y-4",children:b.options.map(o=>e.jsxs("button",{onClick:()=>_(o.value),className:`w-full p-4 rounded-xl border-2 text-left transition-all duration-200 flex items-center gap-4 ${a===o.value?"border-copper bg-gradient-to-r from-copper/20 to-copper/10 text-copper shadow-lg":"border-beige/20 bg-gradient-to-r from-dark-blue/30 to-dark-blue/10 hover:border-beige/40"}`,children:[o.icon&&e.jsx("span",{className:"text-2xl",children:o.icon}),e.jsx("span",{className:"font-medium",children:o.label})]},o.value))});case"buttons":return e.jsx("div",{className:"space-y-4",children:b.options.map(o=>{const f={green:"border-green-400 bg-gradient-to-r from-green-400/20 to-green-400/10 text-green-400",orange:"border-orange-400 bg-gradient-to-r from-orange-400/20 to-orange-400/10 text-orange-400",red:"border-red-400 bg-gradient-to-r from-red-400/20 to-red-400/10 text-red-400",blue:"border-blue-400 bg-gradient-to-r from-blue-400/20 to-blue-400/10 text-blue-400",purple:"border-purple-400 bg-gradient-to-r from-purple-400/20 to-purple-400/10 text-purple-400",gray:"border-gray-400 bg-gradient-to-r from-gray-400/20 to-gray-400/10 text-gray-400"};return e.jsx("button",{onClick:()=>_(o.value),className:`w-full p-5 rounded-xl border-2 text-center font-medium transition-all duration-200 transform hover:scale-105 ${a===o.value?f[o.color]+" shadow-xl":"border-beige/20 bg-gradient-to-r from-dark-blue/30 to-dark-blue/10 hover:border-beige/40"}`,children:o.label},o.value)})});default:return null}};return J?e.jsxs("div",{className:"bg-gradient-to-br from-dark-blue/50 to-dark-blue/30 backdrop-blur-sm border border-beige/10 rounded-2xl p-8 text-center relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-green-500/10 via-transparent to-green-500/10 animate-pulse"}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("div",{className:"text-6xl mb-4 animate-bounce",children:"✨"}),e.jsx("h3",{className:"text-2xl font-bold text-green-400 mb-4",children:"Rapport envoyé avec succès !"}),e.jsxs("p",{className:"text-beige/80 mb-6",children:["Vérifiez votre boîte email (et vos spams) dans les prochaines minutes.",e.jsx("br",{}),e.jsx("span",{className:"text-copper font-semibold",children:"Votre analyse personnalisée arrive ! 🚀"})]}),e.jsxs("div",{className:"flex gap-4 justify-center",children:[e.jsx("button",{onClick:()=>{T(!1),m(!0)},className:"results-audit-button text-white font-semibold px-8 py-3 rounded-xl transition-all duration-200 transform hover:scale-105 shadow-lg",children:"Retourner aux résultats"}),e.jsx("button",{onClick:()=>{T(!1),s(!1),r(0),x({}),m(!1),c(""),O(!1)},className:"border-2 border-beige/20 text-beige font-semibold px-8 py-3 rounded-xl transition-all duration-200 transform hover:scale-105 hover:border-beige/40 hover:bg-beige/5",children:"Nouveau test"})]})]})]}):u?y?e.jsxs("div",{className:`transition-all duration-300 ${K}`,children:[e.jsxs("div",{className:"bg-gradient-to-br from-dark-blue/50 to-dark-blue/30 backdrop-blur-sm border border-beige/10 rounded-2xl p-8 relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 opacity-10",children:[e.jsx("div",{className:"absolute top-0 left-0 w-32 h-32 bg-gradient-to-br from-copper to-transparent rounded-full blur-xl animate-pulse"}),e.jsx("div",{className:"absolute bottom-0 right-0 w-40 h-40 bg-gradient-to-tl from-light-blue to-transparent rounded-full blur-xl animate-pulse delay-1000"})]}),e.jsx("div",{className:"relative z-10",children:e.jsx(fe,{score:i,roiEstimate:S,isLeadCaptured:I,shareEnabled:te,onShowLeadCapture:(a="lead")=>{V(a),j(!0)},onRestart:()=>{Q(()=>{s(!1),r(0),x({}),m(!1),c(""),O(!1),Z(!1)})}})})]}),w&&e.jsx(pe,{modalType:F,savedFormData:P,onSubmit:le,onClose:()=>j(!1),isSubmitting:L,submitError:H})]}):e.jsxs("div",{className:`bg-gradient-to-br from-dark-blue/50 to-dark-blue/30 backdrop-blur-sm border border-beige/10 rounded-2xl p-8 transition-all duration-300 ${K}`,children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-2xl",children:b?.emoji}),e.jsxs("div",{children:[e.jsxs("span",{className:"text-sm text-beige/60",children:["Question ",t+1," sur ",B.length]}),e.jsx("div",{className:"text-xs text-copper font-medium",children:l==="marketing"?"Marketing & Growth":"Opérations & Admin"})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("span",{className:"text-lg font-bold text-copper",children:[Math.round((t+1)/B.length*100),"%"]}),e.jsx("div",{className:"text-xs text-beige/50",children:"complété"})]})]}),e.jsx("div",{className:"relative w-full bg-dark-blue/50 rounded-full h-3 overflow-hidden",children:e.jsx("div",{className:"absolute top-0 left-0 h-full bg-gradient-to-r from-copper via-light-blue to-copper rounded-full transition-all duration-500 ease-out",style:{width:`${(t+1)/B.length*100}%`},children:e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/20 to-transparent animate-pulse"})})})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"text-2xl md:text-3xl font-bold text-beige mb-6 leading-tight",children:b?.question}),e.jsx("div",{className:"max-w-4xl mx-auto",children:ie()})]}),e.jsxs("div",{className:"flex gap-4 justify-center pt-6",children:[e.jsxs("button",{onClick:oe,className:"flex items-center gap-2 px-6 py-4 min-h-[48px] border-2 border-beige/20 text-beige rounded-xl hover:border-beige/40 hover:bg-beige/5 transition-all duration-200 font-medium touch-manipulation active:scale-95",children:["← ",t===0?"Changer de profil":"Précédent"]}),e.jsx("button",{onClick:ae,disabled:!n[b?.id],className:"flex items-center gap-2 px-8 py-4 min-h-[48px] bg-gradient-to-r from-copper to-copper/80 hover:from-copper/90 hover:to-copper/70 disabled:from-beige/20 disabled:to-beige/10 disabled:text-beige/50 text-dark-blue font-bold rounded-xl transition-all duration-200 transform hover:scale-105 disabled:hover:scale-100 shadow-lg disabled:shadow-none touch-manipulation active:scale-95 disabled:active:scale-100",children:t===B.length-1?e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Voir mes résultats"}),e.jsx("span",{className:"text-lg",children:"🎆"})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Suivant"}),e.jsx("span",{children:"→"})]})})]})]})]}):e.jsxs("div",{className:`bg-gradient-to-br from-dark-blue/50 to-dark-blue/30 backdrop-blur-sm border border-beige/10 rounded-2xl p-8 text-center transition-all duration-300 ${K}`,children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("div",{className:"text-6xl mb-4 animate-pulse",children:"🧮"}),e.jsx("h3",{className:"text-3xl font-bold font-montserrat text-transparent bg-clip-text bg-gradient-to-r from-copper via-light-blue to-copper mb-4",children:"Découvrez Votre Potentiel"}),e.jsx("p",{className:"text-lg text-beige/80 mb-6",children:"Quel rôle vous décrit le mieux aujourd'hui ?"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 max-w-3xl mx-auto",children:[e.jsxs("button",{onClick:()=>{Q(()=>{c("marketing"),s(!0)})},className:"profile-card group bg-gradient-to-br from-copper/20 to-copper/10 hover:from-copper/30 hover:to-copper/20 border-2 border-copper/40 hover:border-copper/60 rounded-2xl p-8 text-left transition-all duration-300 transform hover:scale-105 hover:shadow-2xl hover:shadow-copper/20 relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-copper/0 via-copper/20 to-copper/0 transform translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-700 ease-in-out"}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("div",{className:"text-4xl mb-4 transition-transform duration-300 ease-out group-hover:scale-110",children:"📈"}),e.jsx("h4",{className:"text-xl font-bold text-copper mb-3",children:"Marketing & Growth"}),e.jsx("p",{className:"text-sm text-beige/80 leading-relaxed",children:"Acquisition, contenu, CRM, campagnes, reporting, génération de leads"}),e.jsx("div",{className:"mt-4 text-xs text-copper/60 font-medium",children:"Cliquez pour commencer →"})]})]}),e.jsxs("button",{onClick:()=>{Q(()=>{c("business"),s(!0)})},className:"profile-card group bg-gradient-to-br from-light-blue/20 to-light-blue/10 hover:from-light-blue/30 hover:to-light-blue/20 border-2 border-light-blue/40 hover:border-light-blue/60 rounded-2xl p-8 text-left transition-all duration-300 transform hover:scale-105 hover:shadow-2xl hover:shadow-light-blue/20 relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-light-blue/0 via-light-blue/20 to-light-blue/0 transform translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-700 ease-in-out"}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("div",{className:"text-4xl mb-4 transition-transform duration-300 ease-out group-hover:scale-110",children:"🛠️"}),e.jsx("h4",{className:"text-xl font-bold text-light-blue mb-3",children:"Opérations & Admin"}),e.jsx("p",{className:"text-sm text-beige/80 leading-relaxed",children:"Direction, gestion, support interne, facturation, administration"}),e.jsx("div",{className:"mt-4 text-xs text-light-blue/60 font-medium",children:"Cliquez pour commencer →"})]})]})]})]})};export{we as default};
