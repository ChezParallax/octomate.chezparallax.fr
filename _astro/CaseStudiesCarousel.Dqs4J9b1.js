import{j as t}from"../assets/jsx-runtime-D5KAtRYC.js";import{r as l}from"../assets/index-CVf8TyFT.js";const O="modulepreload",V=function(i){return"/"+i},W={},w=function(e,s,d){let h=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const r=document.querySelector("meta[property=csp-nonce]"),p=r?.nonce||r?.getAttribute("nonce");h=Promise.allSettled(s.map(f=>{if(f=V(f),f in W)return;W[f]=!0;const v=f.endsWith(".css"),k=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${k}`))return;const m=document.createElement("link");if(m.rel=v?"stylesheet":O,v||(m.as="script"),m.crossOrigin="",m.href=f,p&&m.setAttribute("nonce",p),document.head.appendChild(m),v)return new Promise((u,j)=>{m.addEventListener("load",u),m.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${f}`)))})}))}function g(r){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=r,window.dispatchEvent(p),!p.defaultPrevented)throw r}return h.then(r=>{for(const p of r||[])p.status==="rejected"&&g(p.reason);return e().catch(g)})},B=48,D={copper:{gradient:"from-copper/10 to-copper/5",border:"border-copper/20",title:"text-copper"},"light-blue":{gradient:"from-light-blue/10 to-light-blue/5",border:"border-light-blue/20",title:"text-light-blue"}};class q{constructor(e,s={}){this.element=e,this.options={threshold:10,velocityThreshold:.3,momentumReduction:.95,snapThreshold:.4,maxVelocity:8,...s},this.state={isDragging:!1,startX:0,currentX:0,deltaX:0,velocity:0,lastMoveTime:0,animationFrame:null},this.callbacks={},this.bindEvents()}bindEvents(){this.element.addEventListener("touchstart",this.handleTouchStart.bind(this),{passive:!1}),this.element.addEventListener("touchmove",this.handleTouchMove.bind(this),{passive:!1}),this.element.addEventListener("touchend",this.handleTouchEnd.bind(this),{passive:!0}),this.element.addEventListener("touchcancel",this.handleTouchEnd.bind(this),{passive:!0})}handleTouchStart(e){if(e.touches.length!==1)return;const s=e.touches[0];this.state.startX=s.clientX,this.state.currentX=s.clientX,this.state.lastMoveTime=Date.now(),this.state.velocity=0,this.state.animationFrame&&(cancelAnimationFrame(this.state.animationFrame),this.state.animationFrame=null),this.callbacks.onStart?.(e,this.state)}handleTouchMove(e){if(e.touches.length!==1)return;const s=e.touches[0],d=Date.now(),h=d-this.state.lastMoveTime;if(this.state.currentX=s.clientX,this.state.deltaX=this.state.currentX-this.state.startX,h>0){const g=this.state.currentX-(this.state.startX+this.state.deltaX);this.state.velocity=g/h}!this.state.isDragging&&Math.abs(this.state.deltaX)>this.options.threshold&&(this.state.isDragging=!0,this.callbacks.onDragStart?.(e,this.state),e.preventDefault()),this.state.isDragging&&(e.preventDefault(),this.callbacks.onDrag?.(e,this.state)),this.state.lastMoveTime=d}handleTouchEnd(e){if(!this.state.isDragging){this.callbacks.onTap?.(e,this.state),this.resetState();return}Math.abs(this.state.velocity)>this.options.velocityThreshold?this.startMomentum():this.callbacks.onDragEnd?.(e,this.state),this.resetState()}startMomentum(){const{velocity:e}=this.state,s=e>0?1:-1;let d=Math.min(Math.abs(e),this.options.maxVelocity)*s;const h=()=>{if(Math.abs(d)<.01){this.callbacks.onMomentumEnd?.(this.state);return}this.state.deltaX+=d*16,this.callbacks.onMomentum?.(this.state),d*=this.options.momentumReduction,this.state.animationFrame=requestAnimationFrame(h)};h()}resetState(){this.state.isDragging=!1,this.state.startX=0,this.state.currentX=0,this.state.deltaX=0,this.state.velocity=0}on(e,s){return this.callbacks[e]=s,this}destroy(){this.state.animationFrame&&cancelAnimationFrame(this.state.animationFrame)}}function Y(){const[i,e]=l.useState([]),[s,d]=l.useState(0),[h,g]=l.useState(!0),[r,p]=l.useState(()=>typeof window<"u"?window.innerWidth<768:!1),[f,v]=l.useState(0),[k,m]=l.useState(!1),u=l.useRef(null),j=l.useRef(null),[C,X]=l.useState(()=>typeof window<"u"?window.innerWidth*.25:0),[y,R]=l.useState(()=>typeof window<"u"?window.innerWidth*.25+B:0),[A,P]=l.useState(()=>typeof window<"u"?window.innerWidth/2:0),[S,z]=l.useState(0);l.useEffect(()=>{const n=()=>{p(window.innerWidth<768)};return n(),window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[]);const _=!r&&i.length>0?"400px":"50%";l.useLayoutEffect(()=>{if(r)return;const n=()=>{if(!u.current)return;const c=window.innerWidth*.25,x=parseFloat(getComputedStyle(u.current).columnGap||"0"),{left:o,width:b}=u.current.parentElement?.getBoundingClientRect()??{left:0,width:window.innerWidth};X(c),R(c+x),P(o+b/2)};n();const a=()=>requestAnimationFrame(n);return window.addEventListener("resize",a,{passive:!0}),()=>window.removeEventListener("resize",a)},[i.length,r]),l.useLayoutEffect(()=>{if(r)return;const n=()=>{if(!u.current)return;const a=Array.from(u.current.children).map(c=>(c.firstElementChild??c).getBoundingClientRect().height);z(Math.max(0,...a))};return n(),window.addEventListener("resize",n,{passive:!0}),()=>window.removeEventListener("resize",n)},[i.length,r]),l.useEffect(()=>{if(!r||!u.current||i.length===0)return;const n=u.current,c=n.offsetWidth;return j.current=new q(n,{threshold:15,velocityThreshold:.5,snapThreshold:.25,momentumReduction:.92}),j.current.on("onDragStart",()=>{m(!1),n.style.willChange="transform"}).on("onDrag",(x,o)=>{const N=-s*c+o.deltaX,E=0,$=-(i.length-1)*c;let T=N;N>E?T=E+(N-E)*.3:N<$&&(T=$+(N-$)*.3),v(T)}).on("onDragEnd",(x,o)=>{L(o,c)}).on("onMomentumEnd",x=>{L(x,c)}),()=>{j.current?.destroy(),n.style.willChange="auto"}},[r,i.length,s]);const L=l.useCallback((n,a)=>{const{deltaX:c}=n,o=(u.current?.offsetWidth||0)*.25;let b=s;Math.abs(c)>o&&(c>0&&s>0?b=s-1:c<0&&s<i.length-1&&(b=s+1)),m(!0),d(b),v(-b*a),setTimeout(()=>{u.current&&(u.current.style.willChange="auto")},500)},[s,i.length]);l.useEffect(()=>{(async()=>{try{const c=Object.entries(Object.assign({"../../data/case-studies/01-base-contacts.json":()=>w(()=>import("../assets/01-base-contacts-C9Yr5Tsf.js"),[]).then(o=>o.default),"../../data/case-studies/02-sequences-relance.json":()=>w(()=>import("../assets/02-sequences-relance-BPpVSZM1.js"),[]).then(o=>o.default),"../../data/case-studies/03-assistant-linkedin.json":()=>w(()=>import("../assets/03-assistant-linkedin-DtvS83xs.js"),[]).then(o=>o.default),"../../data/case-studies/04-fiches-produits.json":()=>w(()=>import("../assets/04-fiches-produits-CKUqyz3n.js"),[]).then(o=>o.default),"../../data/case-studies/05-relance-factures.json":()=>w(()=>import("../assets/05-relance-factures-CyJ2bbYc.js"),[]).then(o=>o.default),"../../data/case-studies/06-automation-rh.json":()=>w(()=>import("../assets/06-automation-rh-DQebktLb.js"),[]).then(o=>o.default)})).sort(([o],[b])=>o.localeCompare(b)),x=await Promise.all(c.map(([o,b])=>b()));e(x),d(Math.floor(x.length/2))}catch(a){console.error("Failed to load case studies",a)}finally{g(!1)}})()},[]);const F=l.useCallback(()=>{d(n=>(n+1)%i.length)},[i.length]),I=l.useCallback(()=>{d(n=>(n-1+i.length)%i.length)},[i.length]),M=l.useCallback(n=>{if(d(n),r){const a=u.current?.offsetWidth||0;v(-n*a),m(!0)}},[r]);return h?t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",id:"case-studies-skeleton",children:[...Array(3)].map((n,a)=>t.jsx("div",{className:"h-[450px] md:h-[600px] rounded-2xl bg-beige/10 animate-pulse"},a))}):i.length===0?t.jsxs("div",{className:"text-center py-20 text-beige/60",children:["Aucune étude de cas disponible - Debug:"," ",JSON.stringify({isLoading:h,studiesLength:i.length})]}):t.jsxs("div",{className:"relative case-studies-container",children:[t.jsx("div",{className:"flex justify-center mb-8 space-x-2",children:i.map((n,a)=>t.jsx("button",{onClick:()=>M(a),className:`w-3 h-3 rounded-full transition-all duration-300 ${a===s?"bg-copper scale-125":"bg-beige/30 hover:bg-copper/50"}`,"aria-label":`Aller à l'étude de cas ${a+1}`},a))}),t.jsx("button",{onClick:I,className:"hidden md:flex absolute left-4 z-40 w-12 h-12 bg-copper/20 hover:bg-copper/30 rounded-full items-center justify-center text-copper hover:text-beige transition-all duration-300 backdrop-blur-lg border border-copper/20",style:{top:_,transform:"translateY(-50%)"},"aria-label":"Case study précédente",children:t.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),t.jsx("button",{onClick:F,className:"hidden md:flex absolute right-4 z-40 w-12 h-12 bg-copper/20 hover:bg-copper/30 rounded-full items-center justify-center text-copper hover:text-beige transition-all duration-300 backdrop-blur-lg border border-copper/20",style:{top:_,transform:"translateY(-50%)"},"aria-label":"Case study suivante",children:t.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),t.jsxs("div",{className:"md:hidden flex justify-center items-center gap-2 -mt-6 mb-4 text-beige/60 text-sm",children:[t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),t.jsx("span",{children:"Balayez pour naviguer"}),t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"hidden md:block absolute left-0 top-0 bottom-0 w-32 bg-gradient-to-r from-dark-blue to-transparent z-30 pointer-events-none"}),t.jsx("div",{className:"hidden md:block absolute right-0 top-0 bottom-0 w-32 bg-gradient-to-l from-dark-blue to-transparent z-30 pointer-events-none"}),t.jsx("div",{className:"overflow-x-hidden overflow-y-visible py-12 px-4 md:px-0",style:{minHeight:S?S+120:void 0},children:t.jsx("div",{ref:u,className:`flex items-start ${r?"":"gap-x-12"} ${r&&k?"transition-transform duration-500 ease-out":r?"":"transition-transform duration-500 ease-out"}`,style:{transform:r?`translate3d(${f}px, 0, 0)`:`translateX(${A-s*y-C/2}px)`,willChange:r&&!k?"transform":"auto"},children:i.map((n,a)=>{const c=a===s;return t.jsx("div",{className:`flex-shrink-0 transition-all duration-500 ${r?"w-full px-4":""} ${c?"scale-110 opacity-100":r?"scale-100 opacity-100":"scale-100 opacity-80"}`,onClick:()=>!c&&M(a),style:{cursor:c?"default":"pointer",width:r?void 0:`${C}px`},children:t.jsx(H,{study:n,isActive:c,isMobile:r})},n.id)})})})]})]})}const H=l.memo(function({study:e,isActive:s,isMobile:d}){const h=D[e.theme]||D.copper;return t.jsxs("div",{className:`
      bg-gradient-to-br ${h.gradient} 
      backdrop-blur-lg border ${h.border} rounded-2xl 
      hover:border-beige/30 hover:shadow-xl hover:shadow-black/20
      transition-all duration-500 ease-out
      relative overflow-hidden group p-6 md:p-8
      ${s&&!d?"hover:transform hover:scale-[1.02] shadow-2xl":"cursor-pointer"}
      ${d?"min-h-[500px]":e.layout==="large"?"min-h-[600px]":"min-h-[450px]"}
      ${s?"ring-2 ring-copper/20 shadow-2xl":""}
    `,children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-700 ease-out z-10 pointer-events-none"}),t.jsxs("div",{className:"relative z-20",children:[t.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[t.jsx("div",{className:"px-3 py-1 bg-green-500/20 text-green-400 text-xs rounded-full border border-green-500/30",children:"Étude de cas"}),t.jsx("div",{className:"text-3xl",children:e.icon})]}),t.jsx("h3",{className:`text-2xl md:text-3xl font-montserrat font-bold mb-4 ${h.title} leading-tight`,children:e.title}),t.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[t.jsx("div",{className:"h-1 w-8 bg-gradient-to-r from-copper to-light-blue rounded-full"}),t.jsx("p",{className:"text-sm text-beige/70 font-medium",children:e.client})]}),t.jsxs("div",{className:"space-y-3 mb-6",children:[t.jsxs("div",{children:[t.jsxs("h4",{className:"font-semibold text-beige mb-2 flex items-center gap-2",children:[t.jsx("span",{className:"w-2 h-2 bg-red-400 rounded-full"}),e.challenge.title]}),t.jsx("p",{className:"text-beige/80 text-sm",children:e.challenge.description})]}),t.jsxs("div",{children:[t.jsxs("h4",{className:"font-semibold text-beige mb-2 flex items-center gap-2",children:[t.jsx("span",{className:`w-2 h-2 rounded-full ${e.theme==="copper"?"bg-copper":"bg-light-blue"}`}),e.solution.title]}),t.jsx("p",{className:"text-beige/80 text-sm",children:e.solution.description})]})]}),t.jsxs("div",{className:`
          ${e.results.theme==="green"?"bg-green-500/10 border-green-500/20":""}
          ${e.results.theme==="purple"?"bg-purple-500/10 border-purple-500/20":""}
          ${e.results.theme==="blue"?"bg-blue-500/10 border-blue-500/20":""}
          ${e.results.theme==="orange"?"bg-orange-500/10 border-orange-500/20":""}
          border rounded-2xl p-6 mb-6 relative overflow-hidden
        `,children:[t.jsx("div",{className:`absolute top-0 right-0 w-16 h-16 
            ${e.results.theme==="green"?"bg-green-400/10":""}
            ${e.results.theme==="purple"?"bg-purple-400/10":""}
            ${e.results.theme==="blue"?"bg-blue-400/10":""}
            ${e.results.theme==="orange"?"bg-orange-400/10":""}
            rounded-bl-full -translate-y-2 translate-x-2
          `}),t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx("div",{className:`w-3 h-3 rounded-full flex-shrink-0
              ${e.results.theme==="green"?"bg-green-400":""}
              ${e.results.theme==="purple"?"bg-purple-400":""}
              ${e.results.theme==="blue"?"bg-blue-400":""}
              ${e.results.theme==="orange"?"bg-orange-400":""}
            `}),t.jsx("h4",{className:`font-semibold text-lg
              ${e.results.theme==="green"?"text-green-400":""}
              ${e.results.theme==="purple"?"text-purple-400":""}
              ${e.results.theme==="blue"?"text-blue-400":""}
              ${e.results.theme==="orange"?"text-orange-400":""}
            `,children:"Résultats obtenus"})]}),t.jsx("div",{className:`grid ${e.results.metrics.length===1?"grid-cols-1":e.results.metrics.length===2?"grid-cols-2":"grid-cols-2 md:grid-cols-3"} gap-4 md:gap-6 text-center mb-6`,children:e.results.metrics.map((g,r)=>t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:`text-3xl md:text-4xl font-bold mb-2
                  ${e.results.theme==="green"?"text-green-400":""}
                  ${e.results.theme==="purple"?"text-purple-400":""}
                  ${e.results.theme==="blue"?"text-blue-400":""}
                  ${e.results.theme==="orange"?"text-orange-400":""}
                `,children:g.value}),t.jsx("div",{className:"text-xs text-beige/70 font-medium uppercase tracking-wide",children:g.label})]},r))}),t.jsx("div",{className:"space-y-1 text-xs",children:e.results.achievements.map((g,r)=>t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:`w-1 h-1 rounded-full
                  ${e.results.theme==="green"?"bg-green-400":""}
                  ${e.results.theme==="purple"?"bg-purple-400":""}
                  ${e.results.theme==="blue"?"bg-blue-400":""}
                  ${e.results.theme==="orange"?"bg-orange-400":""}
                `}),t.jsx("span",{className:`
                  ${e.results.theme==="green"?"text-green-400":""}
                  ${e.results.theme==="purple"?"text-purple-400":""}
                  ${e.results.theme==="blue"?"text-blue-400":""}
                  ${e.results.theme==="orange"?"text-orange-400":""}
                `,children:g})]},r))})]}),e.testimonial&&t.jsxs("blockquote",{className:"border-l-2 border-copper pl-4 italic text-beige/80 text-sm",children:['"',e.testimonial.quote,'"',t.jsxs("cite",{className:"block text-xs text-beige/60 mt-1",children:["— ",e.testimonial.author]})]})]})]})},(i,e)=>i.study===e.study&&i.isActive===e.isActive&&i.isMobile===e.isMobile);export{Y as default};
