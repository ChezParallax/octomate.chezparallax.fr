import{r as i}from"./index-CVf8TyFT.js";var h={exports:{}},_={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g=i,S=Symbol.for("react.element"),b=Symbol.for("react.fragment"),C=Object.prototype.hasOwnProperty,q=g.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,v={key:!0,ref:!0,__self:!0,__source:!0};function p(a,e,t){var s,r={},n=null,d=null;t!==void 0&&(n=""+t),e.key!==void 0&&(n=""+e.key),e.ref!==void 0&&(d=e.ref);for(s in e)C.call(e,s)&&!v.hasOwnProperty(s)&&(r[s]=e[s]);if(a&&a.defaultProps)for(s in e=a.defaultProps,e)r[s]===void 0&&(r[s]=e[s]);return{$$typeof:S,type:a,key:n,ref:d,props:r,_owner:q.current}}_.Fragment=b;_.jsx=p;_.jsxs=p;h.exports=_;var A=h.exports;class y{constructor(){if(typeof window>"u"){this.isServer=!0;return}this.isServer=!1,this.sessionId=this.generateSessionId(),this.eventLocks=new Map,this.sessionData={startTime:Date.now(),userAgent:window.navigator.userAgent,viewport:{width:window.innerWidth,height:window.innerHeight},referrer:typeof document<"u"?document.referrer:"",device:window.innerWidth<768?"mobile":"desktop"},this.DELAYS={carousel_interacted:1e3,quiz_question_answered:500,modal_opened:300,cta_clicked:200,scroll_milestone:2e3,faq_expanded:800,header_nav_clicked:300,default:500},this.sessionState={pageLoaded:!1,quizStarted:!1,quizCompleted:!1,leadCaptured:!1,scrollMilestones:new Set,faqsOpened:new Set,carouselDebugCompleted:new Set},this.isDev=typeof process<"u"&&!1,this.init()}generateSessionId(){return`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}init(){this.isServer||(this.trackPageLoaded(),typeof window<"u"&&(window.addEventListener("error",e=>{this.errorOccurred("javascript",e.message||"Unknown error","global")}),window.addEventListener("unhandledrejection",e=>{this.errorOccurred("promise",e.reason?.message||"Promise rejection","global")})))}track(e,t={}){if(this.isServer||typeof window>"u")return!1;if(!window.umami)return this.isDev&&console.warn("ðŸ“Š Umami not loaded, event queued:",e),!1;const s=this.DELAYS[e]||this.DELAYS.default,r=`${e}_${JSON.stringify(t)}`;if(this.eventLocks.has(r)){const d=this.eventLocks.get(r);if(Date.now()-d<s)return this.isDev&&console.log(`ðŸš« Event debounced: ${e}`,t),!1}this.eventLocks.set(r,Date.now());const n={...t,session_id:this.sessionId,device:this.sessionData.device,timestamp:Date.now()};try{return window.umami.track(e,n),this.isDev&&(console.group("ðŸ“Š Analytics Event Sent"),console.log("Event:",e),console.log("Properties:",n),console.log("Delay:",s+"ms"),console.groupEnd()),!0}catch(d){return console.error("ðŸ“Š Analytics error:",d),!1}}trackPageLoaded(){if(!(this.isServer||this.sessionState.pageLoaded)&&typeof window<"u"){const e=new URLSearchParams(window.location.search),t=e.get("utm_source"),s=e.get("utm_medium"),r=e.get("utm_campaign");this.track("page_loaded",{load_time:Date.now()-(performance.timing?.navigationStart||Date.now()),has_attribution:!!(t||s||r),utm_source:t||"direct",utm_medium:s||"none",utm_campaign:r||"none",referrer:(typeof document<"u"?document.referrer:"")||"direct"}),this.sessionState.pageLoaded=!0}}headerNavClicked(e,t,s="desktop"){this.track("header_nav_clicked",{link_text:e,destination:t,menu_type:s,scroll_position:typeof window<"u"?Math.round(window.scrollY):0})}ctaClicked(e,t,s="default",r=null){this.track("cta_clicked",{section:e,button_text:t,button_type:s,button_id:r,scroll_position:typeof window<"u"?Math.round(window.scrollY):0,time_on_page:Math.round((Date.now()-this.sessionData.startTime)/1e3)})}quizPathSelected(e){this.sessionState.quizStarted||(this.track("quiz_path_selected",{path:e,time_to_start:Math.round((Date.now()-this.sessionData.startTime)/1e3)}),this.sessionState.quizStarted=!0)}quizQuestionAnswered(e){this.track("quiz_question_answered",{path:e.path,question_id:e.questionId,question_number:e.questionNumber,question_type:e.questionType,answer_value:e.answer,answer_category:this.categorizeAnswer(e.answer,e.questionType),time_spent_seconds:Math.round(e.timeSpent/1e3),session_questions_count:e.sessionCount||1})}quizCompleted(e,t,s){this.sessionState.quizCompleted||(this.track("quiz_completed",{path:t,score:e,score_tier:this.getScoreTier(e),total_time_seconds:Math.round(s/1e3),completion_rate:100}),this.sessionState.quizCompleted=!0)}quizAbandoned(e,t="unknown"){this.track("quiz_abandoned",{abandoned_at_step:e,reason:t,time_spent:Math.round((Date.now()-this.sessionData.startTime)/1e3),completion_rate:Math.round(e/8*100)})}resultsDisplayed(e,t,s){this.track("results_displayed",{score:e,score_tier:this.getScoreTier(e),path:t,time_to_complete:Math.round(s/1e3)})}modalOpened(e,t,s=null){this.track("modal_opened",{modal_type:e,trigger_source:t,user_score:s,score_tier:s?this.getScoreTier(s):null,session_modals_count:this.getSessionModalCount()})}leadCaptureSubmitted(e){this.sessionState.leadCaptured||(this.track("lead_capture_submitted",{user_score:e.userScore,score_tier:this.getScoreTier(e.userScore),user_path:e.userPath,form_fields_filled:e.formFields||4,time_to_convert:Math.round((Date.now()-this.sessionData.startTime)/1e3)}),this.sessionState.leadCaptured=!0)}shareSubmitted(e){this.track("share_submitted",{team_emails_count:e.teamEmails||1,user_score:e.userScore,user_path:e.userPath,viral_coefficient:e.teamEmails||1})}carouselInteracted(e,t,s,r="swipe"){const n=`${e}_debug`;if(!this.sessionState.carouselDebugCompleted.has(n))return this.isDev&&console.log(`ðŸŽ  Carousel ${e}: Debug phase ACTIVE, ignoring interaction (${r})`),!1;const d=Date.now()-this.sessionData.startTime,u=e==="case_studies"?500:400;return d<u?(this.isDev&&console.log(`ðŸŽ  Carousel ${e}: Too early (${d}ms < ${u}ms), ignoring`),!1):r==="swipe"&&t>2?(this.isDev&&console.warn(`ðŸŽ  Carousel ${e}: Suspicious slide index ${t}, may be auto-init`),!1):(this.track("carousel_interacted",{carousel_type:e,slide_index:t,slide_id:s||`slide_${t}`,interaction_type:r,total_slides:3,time_since_load:d}),!0)}carouselDebugCompleted(e){this.sessionState.carouselDebugCompleted.add(`${e}_debug`),this.isDev&&console.log(`ðŸŽ  Carousel ${e}: Debug phase completed, tracking enabled`)}faqExpanded(e,t,s="main_faq"){this.track("faq_expanded",{question_id:e,question_text:t.substring(0,100),section:s,session_faqs_opened:this.sessionState.faqsOpened.size+1}),this.sessionState.faqsOpened.add(e)}faqCollapsed(e,t){this.track("faq_collapsed",{question_id:e,time_spent_seconds:Math.round(t/1e3),engagement_level:t>5e3?"high":t>2e3?"medium":"low"})}scrollMilestone(e){const t=`${e}%`;this.sessionState.scrollMilestones.has(t)||(this.track("scroll_milestone",{percentage:e,time_to_milestone:Math.round((Date.now()-this.sessionData.startTime)/1e3)}),this.sessionState.scrollMilestones.add(t))}pdfDownloadEligible(e,t,s){this.track("pdf_download_eligible",{user_path:e,user_score:t,eligible:s,score_tier:this.getScoreTier(t)})}pdfDownloadStarted(e,t,s){this.track("pdf_download_started",{user_path:e,user_score:t,download_type:s,score_tier:this.getScoreTier(t)})}errorOccurred(e,t,s){this.track("error_occurred",{error_type:e,message:t.substring(0,200),source:s,user_agent:typeof navigator<"u"?navigator.userAgent.substring(0,100):"unknown"})}abandonmentPredicted(e){this.track("abandonment_predicted",{signals:e,risk_level:e.length>3?"high":e.length>1?"medium":"low",time_on_page:Math.round((Date.now()-this.sessionData.startTime)/1e3)})}categorizeAnswer(e,t){return t==="slider"||t==="scale"?e<=3?"low":e<=7?"medium":"high":(t==="multi_tag"||t==="multi_select_grid")&&Array.isArray(e)?e.length<=2?"low":e.length<=4?"medium":"high":"default"}getScoreTier(e){return e>=70?"high":e>=50?"medium":"low"}getSessionModalCount(){return Array.from(this.eventLocks.keys()).filter(e=>e.startsWith("modal_opened")).length}}let m;typeof window<"u"?(m=new y,window.analytics=m):m={isServer:!0,track:()=>!1,trackPageLoaded:()=>!1,headerNavClicked:()=>!1,ctaClicked:()=>!1,quizPathSelected:()=>!1,quizQuestionAnswered:()=>!1,quizCompleted:()=>!1,quizAbandoned:()=>!1,resultsDisplayed:()=>!1,modalOpened:()=>!1,leadCaptureSubmitted:()=>!1,shareSubmitted:()=>!1,carouselInteracted:()=>!1,carouselDebugCompleted:()=>!1,faqExpanded:()=>!1,faqCollapsed:()=>!1,scrollMilestone:()=>!1,pdfDownloadEligible:()=>!1,pdfDownloadStarted:()=>!1,errorOccurred:()=>!1,abandonmentPredicted:()=>!1};const o=m,z=(a="")=>{const[e,t]=i.useState({pathSelected:!1,questionsAnswered:new Set,completed:!1,abandoned:!1,questionStartTimes:new Map}),s=i.useRef(Date.now()),r=i.useCallback(l=>{e.pathSelected||(o.quizPathSelected(l),t(c=>({...c,pathSelected:!0})),s.current=Date.now())},[e.pathSelected]),n=i.useCallback(l=>{const c=`${l.questionId}_${l.questionNumber}`;e.questionsAnswered.has(c)||(o.quizQuestionAnswered({...l,timeSpent:l.timeSpent||1e3,sessionCount:e.questionsAnswered.size+1}),t(f=>({...f,questionsAnswered:new Set([...f.questionsAnswered,c])})))},[e.questionsAnswered]),d=i.useCallback((l,c,f=null)=>{if(e.completed)return;const w=f||Date.now()-s.current;o.quizCompleted(l,c,w),t(k=>({...k,completed:!0}))},[e.completed]),u=i.useCallback((l,c="page_exit")=>{e.abandoned||e.completed||(o.quizAbandoned(l,c),t(f=>({...f,abandoned:!0})))},[e.abandoned,e.completed]);return{trackPathSelected:r,trackQuestionAnswered:n,trackQuizCompleted:d,trackQuizAbandoned:u,sessionState:e}},E=()=>{const a=i.useCallback((r,n,d=null)=>{o.modalOpened(r,n,d)},[]),e=i.useCallback(r=>{o.leadCaptureSubmitted(r)},[]),t=i.useCallback(r=>{o.shareSubmitted(r)},[]),s=i.useCallback((r,n)=>{o.errorOccurred("modal",r,n)},[]);return{trackOpen:a,trackLeadCapture:e,trackShare:t,trackError:s}},M=a=>{const[e,t]=i.useState(!0),s=i.useRef(null);i.useEffect(()=>{const u=a==="case_studies"?500:400;return s.current=setTimeout(()=>{t(!1),o.carouselDebugCompleted(a)},u),()=>{s.current&&clearTimeout(s.current)}},[a]);const r=i.useCallback((u,l,c="swipe")=>{e||o.carouselInteracted(a,u,l,c)},[a,e]),n=i.useCallback((u,l)=>{r(u,l,"card_click")},[r]),d=i.useCallback((u,l,c)=>{r(u,l,`arrow_${c}`)},[r]);return{trackInteraction:r,trackCardClick:n,trackArrowClick:d,isDebugPhase:e}},P=()=>{const a=i.useRef(new Map),e=i.useCallback((s,r,n="main_faq")=>{a.current.set(s,Date.now()),o.faqExpanded(s,r,n)},[]),t=i.useCallback(s=>{const r=a.current.get(s);if(r){const n=Date.now()-r;o.faqCollapsed(s,n),a.current.delete(s)}},[]);return{trackExpanded:e,trackCollapsed:t}},$=()=>({trackClick:i.useCallback((e,t,s="default",r=null)=>{o.ctaClicked(e,t,s,r)},[])}),L=()=>({trackHeaderClick:i.useCallback((e,t,s="desktop")=>{o.headerNavClicked(e,t,s)},[])}),O=()=>{const a=i.useCallback((s,r,n)=>{o.resultsDisplayed(s,r,n)},[]),e=i.useCallback((s,r,n)=>{o.pdfDownloadEligible(s,r,n)},[]),t=i.useCallback((s,r,n)=>{o.pdfDownloadStarted(s,r,n)},[]);return{trackDisplayed:a,trackPdfEligible:e,trackPdfDownload:t}};export{$ as a,P as b,M as c,E as d,O as e,z as f,A as j,L as u};
