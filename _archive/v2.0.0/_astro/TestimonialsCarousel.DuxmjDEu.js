import{j as e}from"./jsx-runtime.TBa3i5EZ.js";import{r as o}from"./index.CVf8TyFT.js";function q(){const[r,c]=o.useState([]),[a,n]=o.useState(0),[d,l]=o.useState(!0),[i,v]=o.useState(!1),[m,j]=o.useState(null),[p,h]=o.useState(null);o.useEffect(()=>{const t=()=>{v(window.innerWidth<768)};return t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[]),o.useEffect(()=>{const t=[{id:"pierre-m",name:"Pierre M.",initials:"PM",company:"Gérant, Comkwatt Communication",avatar:{gradient:"from-copper to-copper/80",textColor:"text-dark-blue",image:"/assets/images/testimonials/quote_pierre-m.webp"},rating:5,quote:"Grâce à la solution qu'il nous a mise en place, nous avons pu récupérer automatiquement les numéros de téléphone ou adresses email pour près de 85 % de la base — un gain de temps colossal par rapport à un traitement manuel qui aurait pris des mois.",result:{text:"Système : Enrichissement automatique des données",theme:"green"}},{id:"patrick-b",name:"Patrick B.",initials:"PB",company:"Directeur, Rietmann France",avatar:{gradient:"from-light-blue to-light-blue/80",textColor:"text-dark-blue",image:"/assets/images/testimonials/quote_patrick-b.webp"},rating:5,quote:"Chaque mois, nous passions plusieurs heures à remettre en forme des tableaux de tarifs. Grâce à l'automatisation mise en place par Thibaud (un simple glissé-déposé !), nous avons gagné un temps considérable et supprimé totalement le risque d'erreur.",result:{text:"Système : Analyse et réorganisation des tableaux de tarifs",theme:"blue"}},{id:"sarah-l",name:"Sarah L.",initials:"SL",company:"Directrice Commerciale, Orphise",avatar:{gradient:"from-copper to-light-blue",textColor:"text-dark-blue",image:"/assets/images/testimonials/quote_sarah-l.webp"},rating:5,quote:"Ce système nous a libérés d'une tâche lourde et répétitive. Chaque commercial gagne plusieurs heures par semaine et surtout : ils se concentrent enfin sur ce qu'ils font le mieux, convaincre nos prospects.",result:{text:"Système : Séquences de relance",theme:"purple"}}];c(t),n(Math.floor(t.length/2)),l(!1)},[]);const x=()=>{n(t=>(t+1)%r.length)},g=()=>{n(t=>(t-1+r.length)%r.length)},b=t=>{n(t)},f=50,w=t=>{h(null),j(t.targetTouches[0].clientX)},y=t=>{h(t.targetTouches[0].clientX)},k=()=>{if(!m||!p)return;const t=m-p,s=t>f,u=t<-f;s?x():u&&g()};return d?e.jsx("div",{className:"flex items-center justify-center py-20",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-copper"})}):r.length===0?e.jsx("div",{className:"text-center py-20 text-beige/60",children:"Aucun témoignage disponible"}):((()=>{const t=(a-1+r.length)%r.length,s=(a+1)%r.length;return[t,a,s]})(),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"flex justify-center mb-8 space-x-2",children:r.map((t,s)=>e.jsx("button",{onClick:()=>b(s),className:`w-3 h-3 rounded-full transition-all duration-300 ${s===a?"bg-copper scale-125":"bg-beige/30 hover:bg-copper/50"}`,"aria-label":`Aller au témoignage ${s+1}`},s))}),e.jsx("button",{onClick:g,className:"hidden md:flex absolute left-4 top-1/2 -translate-y-1/2 z-40 w-12 h-12 bg-copper/20 hover:bg-copper/30 rounded-full items-center justify-center text-copper hover:text-beige transition-all duration-300 backdrop-blur-lg border border-copper/20","aria-label":"Témoignage précédent",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsx("button",{onClick:x,className:"hidden md:flex absolute right-4 top-1/2 -translate-y-1/2 z-40 w-12 h-12 bg-copper/20 hover:bg-copper/30 rounded-full items-center justify-center text-copper hover:text-beige transition-all duration-300 backdrop-blur-lg border border-copper/20","aria-label":"Témoignage suivant",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),e.jsxs("div",{className:"md:hidden flex justify-center items-center gap-2 mb-4 text-beige/60 text-sm",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),e.jsx("span",{children:"Balayez pour naviguer"}),e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"hidden md:block absolute left-0 top-0 bottom-0 w-24 bg-gradient-to-r from-dark-blue to-transparent z-30 pointer-events-none"}),e.jsx("div",{className:"hidden md:block absolute right-0 top-0 bottom-0 w-24 bg-gradient-to-l from-dark-blue to-transparent z-30 pointer-events-none"}),e.jsx("div",{className:"overflow-hidden px-4 py-8",onTouchStart:i?w:void 0,onTouchMove:i?y:void 0,onTouchEnd:i?k:void 0,children:e.jsx("div",{className:`flex transition-transform duration-500 ease-out ${i?"flex-row":"justify-center"}`,style:{transform:i?`translateX(${-a*100}%)`:`translateX(${-(a*320)+320}px)`},children:r.map((t,s)=>{const u=s===a;return e.jsx("div",{className:`transition-all duration-500 ${i?"w-full px-0":"flex-shrink-0 px-2 w-80 max-w-xs"} ${u?"scale-100 opacity-100":i?s===a?"scale-100 opacity-100":"scale-95 opacity-50":"scale-95 opacity-70"}`,onClick:()=>!u&&b(s),style:{cursor:u?"default":"pointer"},children:e.jsx(C,{testimonial:t,isActive:u})},t.id)})})})]})]}))}function N({testimonial:r}){const[c,a]=o.useState(!1),[n,d]=o.useState(!1),l=()=>{a(!0)},i=()=>{d(!0)};return e.jsxs("div",{className:"relative w-16 h-16 mx-auto",children:[e.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${r.avatar.gradient} rounded-full flex items-center justify-center ${r.avatar.textColor} font-bold text-xl transition-opacity duration-300 ${n&&!c?"opacity-0":"opacity-100"}`,children:r.initials}),!c&&e.jsx("img",{src:r.avatar.image,alt:`Photo de ${r.name}`,className:`absolute inset-0 w-full h-full object-cover rounded-full border-2 border-beige/20 transition-opacity duration-300 ${n?"opacity-100":"opacity-0"}`,onError:l,onLoad:i,loading:"lazy"}),n&&!c&&e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-transparent via-transparent to-dark-blue/10 rounded-full"})]})}function C({testimonial:r,isActive:c}){const n=(d=>{const l={green:"text-green-400 bg-green-400",blue:"text-blue-400 bg-blue-400",purple:"text-purple-400 bg-purple-400",orange:"text-orange-400 bg-orange-400"};return l[d]||l.green})(r.result.theme);return e.jsxs("div",{className:"bg-gradient-to-br from-beige/5 via-beige/3 to-transparent backdrop-blur-lg border border-beige/15 rounded-2xl hover:border-beige/25 hover:shadow-lg hover:shadow-black/10 transition-all duration-300 ease-out relative overflow-hidden group p-6 min-h-[400px] flex flex-col",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-700 ease-out z-10 pointer-events-none"}),e.jsxs("div",{className:"relative z-20 flex flex-col h-full",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx(N,{testimonial:r})}),e.jsxs("div",{className:"flex justify-center items-center gap-2",children:[e.jsx("div",{className:"flex text-yellow-400",children:[...Array(r.rating)].map((d,l)=>e.jsx("span",{children:"⭐"},l))}),e.jsxs("span",{className:"text-beige/60 text-sm",children:[r.rating,"/5"]})]})]}),e.jsxs("blockquote",{className:"text-beige/90 italic text-sm leading-relaxed flex-grow",children:['"',r.quote,'"']}),e.jsxs("div",{className:"border-t border-beige/10 pt-4 mt-6",children:[e.jsx("div",{className:"font-semibold text-copper text-lg",children:r.name}),e.jsx("div",{className:"text-sm text-beige/60 mb-3",children:r.company}),e.jsxs("div",{className:`text-sm mt-2 flex items-center justify-center gap-2 ${n.split(" ")[0]}`,children:[e.jsx("span",{className:`w-2 h-2 rounded-full ${n.split(" ")[1]}`}),e.jsx("span",{children:r.result.text})]})]})]})]})}export{q as default};
